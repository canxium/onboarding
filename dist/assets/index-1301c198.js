import{B as S,e as X,d as ae,n as O,l as be,m as zs,o as pr,i as R,k as K,q as dn,h as j,a as Ot,I as To,b as Y,c as Rt,j as Ds,r as ko,u as st,v as os,s as je,t as ye,p as Yt,w as $o,x as Co,g as Oo}from"./index-c5c730b9.js";import{A as E0,C as P0,E as A0,D as I0,S as B0,F as S0,y as T0,f as k0,H as $0,J as C0,K as O0,G as R0,L as _0,M as N0,z as M0}from"./index-c5c730b9.js";import{o as G,p as le,i as ie,I as ge,q as ze,e as _t,r as Qt,u as mr,v as Ro,w as hr,x as Ue,E as Ht,F as Zn,y as is,N as cs,z as us,A as ds,B as fs,C as ls,D as ps,G as ms,T as Wn,U as fn,H as _o,J as Hs,K as No,L as Mo,M as qo,O as Gs,P as jo,Q as Nt,R as Uo,l as De,S as Kn,V as Vs,W as Lo,X as Fo,Y as zo,Z as He,t as Do,_ as Ho,$ as Go,a0 as Vo,a1 as Zo,a2 as ln,a3 as Wo,a4 as Ko,a5 as Yo,a6 as Jo,a7 as Xo,a8 as Zs,f as Qo,a9 as Ws,aa as ei,ab as hs,s as ti,ac as ni}from"./number-d1982eae.js";import{k as j0,bI as U0,bJ as L0,bM as F0,bP as z0,a as D0,d as H0,b as G0,c as V0,g as Z0,bN as W0,ap as K0,aq as Y0,ar as J0,as as X0,at as Q0,au as ep,av as tp,ae as np,aw as rp,ax as sp,ay as ap,az as op,aA as ip,aB as cp,aC as up,aD as dp,aE as fp,aF as lp,af as pp,aG as mp,aH as hp,aI as yp,ag as bp,ah as gp,ai as wp,aj as vp,ak as xp,al as Ep,ad as Pp,am as Ap,an as Ip,ao as Bp,aU as Sp,aV as Tp,aW as kp,aX as $p,aY as Cp,aZ as Op,a_ as Rp,m as _p,a$ as Np,b0 as Mp,b1 as qp,b2 as jp,b3 as Up,b4 as Lp,b5 as Fp,b6 as zp,b7 as Dp,b8 as Hp,aK as Gp,b9 as Vp,ba as Zp,bb as Wp,aL as Kp,aM as Yp,aN as Jp,aO as Xp,aP as Qp,aQ as em,aJ as tm,aR as nm,aS as rm,aT as sm,bo as am,bp as om,bq as im,br as cm,bs as um,bt as dm,bu as fm,bd as lm,bv as pm,bw as mm,bx as hm,by as ym,bz as bm,bA as gm,bB as wm,bC as vm,bD as xm,bE as Em,be as Pm,bF as Am,bG as Im,bH as Bm,bf as Sm,bg as Tm,bh as km,bi as $m,bj as Cm,bk as Om,bc as Rm,bl as _m,bm as Nm,bn as Mm,bL as qm,h as jm,n as Um,bO as Lm,bK as Fm}from"./number-d1982eae.js";import{_ as yr}from"./index-06a81a86.js";const ri="1.0.0";class Z extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Z?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Z&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ri}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function Oe(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ks=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ys=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Js=/^\(.+?\).*?$/,ys=/^tuple(?<array>(\[(\d*)\])*)$/;function Yn(e){let t=e.type;if(ys.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Yn(a),s<n-1&&(t+=", ")}const r=Oe(ys,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Yn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ft(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Yn(s),r!==n-1&&(t+=", ")}return t}function si(e){return e.type==="function"?`function ${e.name}(${ft(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ft(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ft(e.inputs)})`:e.type==="error"?`error ${e.name}(${ft(e.inputs)})`:e.type==="constructor"?`constructor(${ft(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Xs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ai(e){return Xs.test(e)}function oi(e){return Oe(Xs,e)}const Qs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ii(e){return Qs.test(e)}function ci(e){return Oe(Qs,e)}const ea=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ui(e){return ea.test(e)}function di(e){return Oe(ea,e)}const ta=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Mt(e){return ta.test(e)}function fi(e){return Oe(ta,e)}const na=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function li(e){return na.test(e)}function pi(e){return Oe(na,e)}const mi=/^fallback\(\)$/;function hi(e){return mi.test(e)}const yi=/^receive\(\) external payable$/;function bi(e){return yi.test(e)}const en=new Set(["memory","indexed","storage","calldata"]),gi=new Set(["indexed"]),Jn=new Set(["calldata","memory","storage"]);class wi extends Z{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class vi extends Z{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class xi extends Z{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Ei extends Z{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class Pi extends Z{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Ai extends Z{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ii extends Z{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Bi extends Z{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Si extends Z{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ti extends Z{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends Z{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ki extends Z{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class $i extends Z{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ci extends Z{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Oi extends Z{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ri(e,t){return t?`${t}:${e}`:e}const On=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Xn(e,t={}){if(ui(e)){const n=di(e);if(!n)throw new pt({signature:e,type:"function"});const r=se(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(de(r[i],{modifiers:Jn,structs:t,type:"function"}));const o=[];if(n.returns){const i=se(n.returns),c=i.length;for(let u=0;u<c;u++)o.push(de(i[u],{modifiers:Jn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}if(ii(e)){const n=ci(e);if(!n)throw new pt({signature:e,type:"event"});const r=se(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(de(r[o],{modifiers:gi,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(ai(e)){const n=oi(e);if(!n)throw new pt({signature:e,type:"error"});const r=se(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(de(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(li(e)){const n=pi(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=se(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(de(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(hi(e))return{type:"fallback"};if(bi(e))return{type:"receive",stateMutability:"payable"};throw new ki({signature:e})}const _i=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ni=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Mi=/^u?int$/;function de(e,t){var d,l;const n=Ri(e,t==null?void 0:t.type);if(On.has(n))return On.get(n);const r=Js.test(e),s=Oe(r?Ni:_i,e);if(!s)throw new Ai({param:e});if(s.name&&ji(s.name))throw new Ii({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=se(s.type),m=[],p=h.length;for(let b=0;b<p;b++)m.push(de(h[b],{structs:i}));u={components:m}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(Mi.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!ra(c))throw new xi({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Bi({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Jn.has(s.modifier)&&!Ui(c,!!s.array))throw new Si({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...a,...o,...u};return On.set(n,f),f}function se(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],i=e.slice(a+1);switch(o){case",":return r===0?se(i,[...t,n.trim()]):se(i,t,`${n}${o}`,r);case"(":return se(i,t,`${n}${o}`,r+1);case")":return se(i,t,`${n}${o}`,r-1);default:return se(i,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Oi({current:n,depth:r});return t.push(n.trim()),t}function ra(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ks.test(e)||Ys.test(e)}const qi=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ji(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ks.test(e)||Ys.test(e)||qi.test(e)}function Ui(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function pn(e){const t={},n=e.length;for(let o=0;o<n;o++){const i=e[o];if(!Mt(i))continue;const c=fi(i);if(!c)throw new pt({signature:i,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const m=u[l].trim();if(!m)continue;const p=de(m,{type:"struct"});f.push(p)}if(!f.length)throw new $i({signature:i});t[c.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[i,c]=s[o];r[i]=sa(c,t)}return r}const Li=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sa(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Js.test(o.type))r.push(o);else{const c=Oe(Li,o.type);if(!(c!=null&&c.type))throw new Ti({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Ci({type:f});r.push({...o,type:`tuple${u??""}`,components:sa(t[f]??[],t,new Set([...n,f]))})}else if(ra(f))r.push(o);else throw new vi({type:f})}}return r}function Cl(e){const t=pn(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];Mt(a)||n.push(Xn(a,t))}return n}function Ol(e){let t;if(typeof e=="string")t=Xn(e);else{const n=pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Mt(a)){t=Xn(a,n);break}}}if(!t)throw new wi({signature:e});return t}function Rl(e){let t;if(typeof e=="string")t=de(e,{modifiers:en});else{const n=pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Mt(a)){t=de(a,{modifiers:en,structs:n});break}}}if(!t)throw new Ei({param:e});return t}function _l(e){const t=[];if(typeof e=="string"){const n=se(e),r=n.length;for(let s=0;s<r;s++)t.push(de(n[s],{modifiers:en}))}else{const n=pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(Mt(a))continue;const o=se(a),i=o.length;for(let c=0;c<i;c++)t.push(de(o[c],{modifiers:en,structs:n}))}}if(t.length===0)throw new Pi({params:e});return t}function $(e,t,n){return r=>{var s,a;return((s=e[t.name])==null?void 0:s.call(e,r))??((a=e[n])==null?void 0:a.call(e,r))??t(e,r)}}function pe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ji(e.type);return`${e.name}(${mn(e.inputs,{includeName:t})})`}function mn(e,{includeName:t=!1}={}){return e?e.map(n=>Fi(n,{includeName:t})).join(t?", ":","):""}function Fi(e,{includeName:t}){return e.type.startsWith("tuple")?`(${mn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class aa extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class tn extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Nl extends S{constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeInvalidError"})}}class oa extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${mn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class hn extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class zi extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Di extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${X(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class ia extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Hi extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorInputsNotFoundError"})}}class bs extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorNotFoundError"})}}class ca extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Gi extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class ua extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class gs extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Qe extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class da extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Vi extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionSignatureNotFoundError"})}}class Zi extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${pe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${pe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class fa extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class mt extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${mn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class yn extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${pe(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Wi extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Ki extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Yi extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Ji extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Xi extends S{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class Qi extends S{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const ec=e=>G(ae(e));function tc(e){return ec(e)}function nc(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new S("Unable to normalize signature.");return s}const rc=e=>{const t=(()=>typeof e=="string"?e:si(e))();return nc(t)};function la(e){return tc(rc(e))}const br=la;function Re(e,t){if(e.length!==t.length)throw new ia({expectedLength:e.length,givenLength:t.length});const n=sc({params:e,values:t}),r=wr(n);return r.length===0?"0x":r}function sc({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(gr({param:e[r],value:t[r]}));return n}function gr({param:e,value:t}){const n=vr(e.type);if(n){const[r,s]=n;return oc(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return fc(t,{param:e});if(e.type==="address")return ac(t);if(e.type==="bool")return cc(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return uc(t,{signed:r})}if(e.type.startsWith("bytes"))return ic(t,{param:e});if(e.type==="string")return dc(t);throw new Wi(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function wr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=X(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(O(t+s,{size:32})),r.push(i),s+=X(i)):n.push(i)}return le([...n,...r])}function ac(e){if(!ie(e))throw new ge({address:e});return{dynamic:!1,encoded:be(e.toLowerCase())}}function oc(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Yi(e);if(!r&&e.length!==t)throw new zi({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=gr({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=wr(a);if(r){const i=O(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?le([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:le(a.map(({encoded:o})=>o))}}function ic(e,{param:t}){const[,n]=t.type.split("bytes"),r=X(e);if(!n){let s=e;return r%32!==0&&(s=be(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:le([be(O(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Di({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:be(e,{dir:"right"})}}function cc(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:be(zs(e))}}function uc(e,{signed:t}){return{dynamic:!1,encoded:O(e,{size:32,signed:t})}}function dc(e){const t=pr(e),n=Math.ceil(X(t)/32),r=[];for(let s=0;s<n;s++)r.push(be(ze(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:le([be(O(X(t),{size:32})),...r])}}function fc(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=gr({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?wr(r):le(r.map(({encoded:s})=>s))}}function vr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const qt=e=>ze(la(e),0,4);function Ze(e){const{abi:t,args:n=[],name:r}=e,s=R(r,{strict:!1}),a=t.filter(i=>s?i.type==="function"?qt(i)===r:i.type==="event"?br(i)===r:!1:"name"in i&&i.name===r);if(a.length===0)return;if(a.length===1)return a[0];let o;for(const i of a){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in i&&i.inputs[f];return d?Qn(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=pa(i.inputs,o.inputs,n);if(u)throw new Zi({abiItem:i,type:u[0]},{abiItem:o,type:u[1]})}o=i}}return o||a[0]}function Qn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Qn(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Qn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function pa(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return pa(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ie(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ie(n[r],{strict:!1}):!1)())return o}}const ws="/docs/contract/encodeEventTopics";function jt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ze({abi:t,name:n});if(!u)throw new gs(n,{docsPath:ws});s=u}if(s.type!=="event")throw new gs(void 0,{docsPath:ws});const a=pe(s),o=br(a);let i=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(i=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,m)=>vs({param:d,value:f[l][m]})):f[l]?vs({param:d,value:f[l]}):null))??[])}return[o,...i]}function vs({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return G(ae(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Qi(e.type);return Re([e],[t])}function bn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function xr(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=bn(e,{method:"eth_newFilter"}),f=a?jt({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?O(o):o,toBlock:typeof c=="bigint"?O(c):c,topics:f}]});return{abi:r,args:s,eventName:a,id:d,request:u(d),strict:!!i,type:"event"}}function ce(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const xs="/docs/contract/encodeFunctionData";function lc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=Ze({abi:t,args:n,name:r});if(!a)throw new Qe(r,{docsPath:xs});s=a}if(s.type!=="function")throw new Qe(void 0,{docsPath:xs});return{abi:[s],functionName:qt(pe(s))}}function _e(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:lc(e)})(),s=n[0],a=r,o="inputs"in s&&s.inputs?Re(s.inputs,t??[]):void 0;return _t([a,o??"0x"])}const ma={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},pc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},mc={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Ml(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?he(e,n):r==="bigint"?ha(e,n):r==="boolean"?ya(e,n):r==="string"?ba(e,n):K(e,n)}function ha(e,t={}){typeof t.size<"u"&&dn(e,{size:t.size});const n=K(e,t);return j(n,t)}function ya(e,t={}){let n=e;if(typeof t.size<"u"&&(dn(n,{size:t.size}),n=Ot(n)),n.length>1||n[0]>1)throw new To(n);return!!n[0]}function he(e,t={}){typeof t.size<"u"&&dn(e,{size:t.size});const n=K(e,t);return Y(n,t)}function ba(e,t={}){let n=e;return typeof t.size<"u"&&(dn(n,{size:t.size}),n=Ot(n,{dir:"right"})),new TextDecoder().decode(n)}function at(e,t){const n=typeof t=="string"?Rt(t):t,r=Qt(n);if(X(n)===0&&e.length>0)throw new hn;if(X(t)&&X(t)<32)throw new oa({data:typeof t=="string"?t:K(t),params:e,size:X(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const i=e[o];r.setPosition(s);const[c,u]=Xe(r,i,{staticPosition:0});s+=u,a.push(c)}return a}function Xe(e,t,{staticPosition:n}){const r=vr(t.type);if(r){const[s,a]=r;return yc(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return vc(e,t,{staticPosition:n});if(t.type==="address")return hc(e);if(t.type==="bool")return bc(e);if(t.type.startsWith("bytes"))return gc(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return wc(e,t);if(t.type==="string")return xc(e,{staticPosition:n});throw new Ki(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Es=32,er=32;function hc(e){const t=e.readBytes(32);return[mr(K(Ro(t,-20))),32]}function yc(e,t,{length:n,staticPosition:r}){if(!n){const o=he(e.readBytes(er)),i=r+o,c=i+Es;e.setPosition(i);const u=he(e.readBytes(Es)),f=ht(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[m,p]=Xe(e,t,{staticPosition:c});d+=p,l.push(m)}return e.setPosition(r+32),[l,32]}if(ht(t)){const o=he(e.readBytes(er)),i=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[f]=Xe(e,t,{staticPosition:i});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[i,c]=Xe(e,t,{staticPosition:r+s});s+=c,a.push(i)}return[a,s]}function bc(e){return[ya(e.readBytes(32),{size:32}),32]}function gc(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=he(e.readBytes(32));e.setPosition(n+o);const i=he(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[K(c),32]}return[K(e.readBytes(Number.parseInt(s),32)),32]}function wc(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?ha(s,{signed:n}):he(s,{signed:n}),32]}function vc(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(ht(t)){const o=he(e.readBytes(er)),i=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+a);const[f,d]=Xe(e,u,{staticPosition:i});a+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=Xe(e,i,{staticPosition:n});s[r?o:i==null?void 0:i.name]=c,a+=u}return[s,a]}function xc(e,{staticPosition:t}){const n=he(e.readBytes(32)),r=t+n;e.setPosition(r);const s=he(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=ba(Ot(a));return e.setPosition(t+32),[o,32]}function ht(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ht);const n=vr(e.type);return!!(n&&ht({...e,type:n[1]}))}function ga(e){const{abi:t,data:n}=e,r=ze(n,0,4);if(r==="0x")throw new hn;const a=[...t||[],pc,mc].find(o=>o.type==="error"&&r===qt(pe(o)));if(!a)throw new ca(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?at(a.inputs,ze(n,4)):void 0,errorName:a.name}}const z=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function wa({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?z(t[a]):t[a]}`).join(", ")})`}class Ec extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Pc extends S{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function Ps(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Ac(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ps(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ps(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class va extends S{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){var b;const m=n?ce(n):void 0;let p=hr({from:m==null?void 0:m.address,to:d,value:typeof l<"u"&&`${Ds(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${Ue(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ue(u)} gwei`,nonce:f});h&&(p+=`
${Ac(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ic extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=Ze({abi:n,args:r,name:o}),u=c?wa({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?pe(c,{includeName:!0}):void 0,d=hr({address:s&&ko(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class tr extends S{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=ga({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=ma[h]}else{const h=f?pe(f,{includeName:!0}):void 0,m=f&&l?wa({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[h?`Error: ${h}`:"",m&&m!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){a=f}else s&&(c=s);let u;a instanceof ca&&(u=a.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=u}}class Bc extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Er extends S{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Le extends S{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${st(a)}`,t&&`Request body: ${z(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class Sc extends S{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${st(r)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Pr extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${st(r)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class nr extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${st(n)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Tc=-1;class Q extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Pr?t.code:n??Tc}}class ot extends Q{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class yt extends Q{constructor(t){super(t,{code:yt.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class bt extends Q{constructor(t){super(t,{code:bt.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class gt extends Q{constructor(t){super(t,{code:gt.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class wt extends Q{constructor(t){super(t,{code:wt.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ge extends Q{constructor(t){super(t,{code:Ge.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Ge,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ve extends Q{constructor(t){super(t,{code:Ve.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class vt extends Q{constructor(t){super(t,{code:vt.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class xt extends Q{constructor(t){super(t,{code:xt.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class et extends Q{constructor(t){super(t,{code:et.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Et extends Q{constructor(t){super(t,{code:Et.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class tt extends Q{constructor(t){super(t,{code:tt.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Pt extends Q{constructor(t){super(t,{code:Pt.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Fe extends ot{constructor(t){super(t,{code:Fe.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class At extends ot{constructor(t){super(t,{code:At.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class It extends ot{constructor(t){super(t,{code:It.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bt extends ot{constructor(t){super(t,{code:Bt.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class St extends ot{constructor(t){super(t,{code:St.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Tt extends ot{constructor(t){super(t,{code:Tt.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class kc extends Q{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const $c=3;function kt(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:u,shortMessage:f}=e instanceof Er?e:e instanceof S?e.walk(l=>"data"in l)||e.walk():{},d=(()=>e instanceof hn?new Bc({functionName:a}):[$c,Ge.code].includes(i)&&(c||u||f)?new tr({abi:t,data:typeof c=="object"?c.data:c,functionName:a,message:f??u}):e)();return new Ic(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class Cc extends S{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var m;const h=hr({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ds(l)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${Ue(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ue(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}function Ar(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>s.code===Ht.code):e;return r instanceof S?new Ht({cause:e,message:r.details}):Ht.nodeMessage.test(n)?new Ht({cause:e,message:e.details}):Zn.nodeMessage.test(n)?new Zn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):is.nodeMessage.test(n)?new is({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):cs.nodeMessage.test(n)?new cs({cause:e,nonce:t==null?void 0:t.nonce}):us.nodeMessage.test(n)?new us({cause:e,nonce:t==null?void 0:t.nonce}):ds.nodeMessage.test(n)?new ds({cause:e,nonce:t==null?void 0:t.nonce}):fs.nodeMessage.test(n)?new fs({cause:e}):ls.nodeMessage.test(n)?new ls({cause:e,gas:t==null?void 0:t.gas}):ps.nodeMessage.test(n)?new ps({cause:e,gas:t==null?void 0:t.gas}):ms.nodeMessage.test(n)?new ms({cause:e}):Wn.nodeMessage.test(n)?new Wn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new fn({cause:e})}function Oc(e,{docsPath:t,...n}){const r=(()=>{const s=Ar(e,n);return s instanceof fn?e:s})();return new Cc(r,{docsPath:t,...n})}function gn(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}function As(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new os({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new os({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Rc(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=O(t)),n!==void 0&&(o.nonce=O(n)),r!==void 0&&(o.state=As(r)),s!==void 0){if(o.state)throw new Pc;o.stateDiff=As(s)}return o}function xa(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new ge({address:n});if(t[n])throw new Ec({address:n});t[n]=Rc(r)}return t}function Ut(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?ce(t):void 0;if(o&&!ie(o.address))throw new ge({address:o.address});if(a&&!ie(a))throw new ge({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new _o;if(r&&r>2n**256n-1n)throw new Zn({maxFeePerGas:r});if(s&&r&&s>r)throw new Wn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class _c extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ir extends S{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Nc extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ue(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Ea extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function Te(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,d,l;const a=r??"latest",o=s??!1,i=n!==void 0?O(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!c)throw new Ea({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||Hs)(c)}async function Br(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Mc(e,t){return Pa(e,t)}async function Pa(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const c=n||await $(e,Te,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return j(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):$(e,Te,"getBlock")({}),$(e,Br,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Ir;const f=u-c.baseFeePerGas;return f<0n?0n:f}}async function qc(e,t){return rr(e,t)}async function rr(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var m,p;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new _c;const c=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await $(e,Te,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(m!==null)return m}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ir;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Pa(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await $(e,Br,"getGasPrice")({}))}}async function Aa(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?O(r):n]});return Y(s)}async function Lt(e){const t=await e.request({method:"eth_chainId"});return Y(t)}const Ia=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function wn(e,t){const{account:n=e.account,blobs:r,chain:s,chainId:a,gas:o,kzg:i,nonce:c,parameters:u=Ia,type:f}=t,d=n?ce(n):void 0,l={...t,...d?{from:d==null?void 0:d.address}:{}};let h;async function m(){return h||(h=await $(e,Te,"getBlock")({blockTag:"latest"}),h)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const p=No({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const b=Mo({commitments:p,to:"hex"});l.blobVersionedHashes=b}if(u.includes("sidecars")){const b=qo({blobs:r,commitments:p,kzg:i}),y=Gs({blobs:r,commitments:p,proofs:b,to:"hex"});l.sidecars=y}}if(u.includes("chainId")&&(s?l.chainId=s.id:typeof a<"u"?l.chainId=a:l.chainId=await $(e,Lt,"getChainId")({})),u.includes("nonce")&&typeof c>"u"&&d&&(l.nonce=await $(e,Aa,"getTransactionCount")({address:d.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=jo(l)}catch{const p=await m();l.type=typeof(p==null?void 0:p.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const p=await m(),{maxFeePerGas:b,maxPriorityFeePerGas:y}=await rr(e,{block:p,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new Nc({maxPriorityFeePerGas:y});l.maxPriorityFeePerGas=y,l.maxFeePerGas=b}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ir;const p=await m(),{gasPrice:b}=await rr(e,{block:p,chain:s,request:l,type:"legacy"});l.gasPrice=b}return u.includes("gas")&&typeof o>"u"&&(l.gas=await $(e,Sr,"estimateGas")({...l,account:d?{address:d.address,type:"json-rpc"}:void 0})),Ut(l),delete l.parameters,l}async function Sr(e,t){var s,a,o;const n=t.account??e.account,r=n?ce(n):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:d,data:l,gas:h,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:y,nonce:g,to:w,value:v,stateOverride:E,...x}=await wn(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(f?O(f):void 0)||d,B=xa(E);Ut(t);const k=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,M=(k||Nt)({...gn(x,{format:k}),from:r==null?void 0:r.address,accessList:i,blobs:c,blobVersionedHashes:u,data:l,gas:h,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:y,nonce:g,to:w,value:v}),N=await e.request({method:"eth_estimateGas",params:B?[M,A??"latest",B]:A?[M,A]:[M]});return BigInt(N)}catch(i){throw Oc(i,{...t,account:r,chain:e.chain})}}async function Ba(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=_e({abi:n,args:s,functionName:a});try{return await $(e,Sr,"estimateGas")({data:i,to:r,...o})}catch(c){const u=o.account?ce(o.account):void 0;throw kt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u==null?void 0:u.address})}}const Is="/docs/contract/decodeEventLog";function Tr(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new Gi({docsPath:Is});const c=t.find(p=>p.type==="event"&&o===br(pe(p)));if(!(c&&"name"in c)||c.type!=="event")throw new ua(o,{docsPath:Is});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(p=>!("name"in p&&p.name));let l=d?[]:{};const h=f.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const b=h[p],y=i[p];if(!y)throw new yn({abiItem:c,param:b});l[d?p:b.name||p]=jc({param:b,value:y})}const m=f.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(n&&n!=="0x")try{const p=at(m,n);if(p)if(d)l=[...l,...p];else for(let b=0;b<m.length;b++)l[m[b].name]=p[b]}catch(p){if(a)throw p instanceof oa||p instanceof Uo?new mt({abiItem:c,data:n,params:m,size:X(n)}):p}else if(a)throw new mt({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function jc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(at([e],t)||[])[0]}function kr({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var a;try{const o=Tr({...s,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...s}}catch(o){let i,c;if(o instanceof ua)return null;if(o instanceof mt||o instanceof yn){if(r)return null;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:i}}}).filter(Boolean)}async function $r(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,f=o??(a?[a]:void 0);let d=[];f&&(d=[f.flatMap(m=>jt({abi:[m],eventName:m.name,args:i}))],a&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?O(r):r,toBlock:typeof s=="bigint"?O(s):s}]});const h=l.map(m=>De(m));return f?kr({abi:f,logs:h,strict:u}):h}async function Cr(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,f=o?Ze({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return $(e,$r,"getLogs")({address:r,args:s,blockHash:a,event:f,events:d,fromBlock:i,toBlock:c,strict:u})}const Rn="/docs/contract/decodeFunctionResult";function it(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const i=Ze({abi:t,args:n,name:r});if(!i)throw new Qe(r,{docsPath:Rn});a=i}if(a.type!=="function")throw new Qe(void 0,{docsPath:Rn});if(!a.outputs)throw new da(a.name,{docsPath:Rn});const o=at(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const sr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Sa=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Ta=[...Sa,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Uc=[...Sa,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Bs=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ss=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Lc=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],ql=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],jl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Ul=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokeId",type:"uint256"}],outputs:[]}],Ll=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Fc="0x82ad56cb";function ct({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Kn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Kn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function zc(e,{docsPath:t,...n}){const r=(()=>{const s=Ar(e,n);return s instanceof fn?e:s})();return new va(r,{docsPath:t,...n})}const _n=new Map;function Or({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{var h;s&&Array.isArray(l)&&l.sort(s);for(let m=0;m<f.length;m++){const{pendingPromise:p}=f[m];(h=p.resolve)==null||h.call(p,[l[m],l])}}).catch(l=>{var h;for(let m=0;m<f.length;m++){const{pendingPromise:p}=f[m];(h=p.reject)==null||h.call(p,l)}})},o=()=>_n.delete(t),i=()=>c().map(({args:f})=>f),c=()=>_n.get(t)||[],u=f=>_n.set(t,[...c(),f]);return{flush:o,async schedule(f){const d={},l=new Promise((p,b)=>{d.resolve=p,d.reject=b});return(n==null?void 0:n([...i(),f]))&&a(),c().length>0?(u({args:f,pendingPromise:d}),l):(u({args:f,pendingPromise:d}),setTimeout(a,r),l)}}}async function Ft(e,t){var v,E,x,P;const{account:n=e.account,batch:r=!!((v=e.batch)!=null&&v.multicall),blockNumber:s,blockTag:a="latest",accessList:o,blobs:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:m,to:p,value:b,stateOverride:y,...g}=t,w=n?ce(n):void 0;try{Ut(t);const B=(s?O(s):void 0)||a,k=xa(y),C=(P=(x=(E=e.chain)==null?void 0:E.formatters)==null?void 0:x.transactionRequest)==null?void 0:P.format,N=(C||Nt)({...gn(g,{format:C}),from:w==null?void 0:w.address,accessList:o,blobs:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:m,to:p,value:b});if(r&&Dc({request:N})&&!k)try{return await Hc(e,{...N,blockNumber:s,blockTag:a})}catch(I){if(!(I instanceof Vs)&&!(I instanceof Kn))throw I}const ee=await e.request({method:"eth_call",params:k?[N,B,k]:[N,B]});return ee==="0x"?{data:void 0}:{data:ee}}catch(A){const B=Gc(A),{offchainLookup:k,offchainLookupSignature:C}=await yr(()=>Promise.resolve().then(()=>Uu),void 0);if(e.ccipRead!==!1&&(B==null?void 0:B.slice(0,10))===C&&p)return{data:await k(e,{data:B,to:p})};throw zc(A,{...t,account:w,chain:e.chain})}}function Dc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Fc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Hc(e,t){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Vs;u=ct({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?O(s):void 0)||a,{schedule:l}=Or({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(b){return b.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async b=>{const y=b.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),g=_e({abi:sr,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},d]});return it({abi:sr,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:m}]=await l({data:o,to:c});if(!m)throw new Er({data:h});return h==="0x"?{data:void 0}:{data:h}}function Gc(e){var n;if(!(e instanceof S))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function we(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=_e({abi:n,args:s,functionName:a});try{const{data:c}=await $(e,Ft,"call")({...o,data:i,to:r});return it({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw kt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function ka(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?ce(i.account):e.account,u=_e({abi:n,args:s,functionName:o});try{const{data:f}=await $(e,Ft,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),d=it({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(f){throw kt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Nn=new Map,Ts=new Map;let Vc=0;function ke(e,t,n){const r=++Vc,s=()=>Nn.get(e)||[],a=()=>{const f=s();Nn.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=Ts.get(e);s().length===1&&f&&f(),a()},i=s();if(Nn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const f in t)c[f]=(...d)=>{var h,m;const l=s();if(l.length!==0)for(const p of l)(m=(h=p.fns)[f])==null||m.call(h,...d)};const u=n(c);return typeof u=="function"&&Ts.set(e,u),o}async function nn(e){return new Promise(t=>setTimeout(t,e))}function zt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await nn(c);const u=async()=>{s&&(await e({unpoll:a}),await nn(r),u())};u()})(),a}const Zc=new Map,Wc=new Map;function Kc(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,Zc),r=t(e,Wc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Yc(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Kc(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Jc=e=>`blockNumber.${e}`;async function Dt(e,{cacheTime:t=e.cacheTime}={}){const n=await Yc(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Jc(e.uid),cacheTime:t});return BigInt(n)}async function vn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>De(a));return!("abi"in t)||!t.abi?s:kr({abi:t.abi,logs:s,strict:n})}async function xn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function $a(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))()?(()=>{const b=l??!1,y=z(["watchContractEvent",r,s,a,e.uid,o,d,b,i]);return ke(y,{onLogs:u,onError:c},g=>{let w;i!==void 0&&(w=i-1n);let v,E=!1;const x=zt(async()=>{var P;if(!E){try{v=await $(e,xr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:b,fromBlock:i})}catch{}E=!0;return}try{let A;if(v)A=await $(e,vn,"getFilterChanges")({filter:v});else{const B=await $(e,Dt,"getBlockNumber")({});w&&w!==B?A=await $(e,Cr,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:B,strict:b}):A=[],w=B}if(A.length===0)return;if(a)g.onLogs(A);else for(const B of A)g.onLogs([B])}catch(A){v&&A instanceof Ve&&(E=!1),(P=g.onError)==null||P.call(g,A)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await $(e,xn,"uninstallFilter")({filter:v}),x()}})})():(()=>{const b=l??!1,y=z(["watchContractEvent",r,s,a,e.uid,o,d,b]);let g=!0,w=()=>g=!1;return ke(y,{onLogs:u,onError:c},v=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(B=>B.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),x=o?jt({abi:n,eventName:o,args:s}):[],{unsubscribe:P}=await E.subscribe({params:["logs",{address:r,topics:x}],onData(A){var k;if(!g)return;const B=A.result;try{const{eventName:C,args:M}=Tr({abi:n,data:B.data,topics:B.topics,strict:l}),N=De(B,{args:M,eventName:C});v.onLogs([N])}catch(C){let M,N;if(C instanceof mt||C instanceof yn){if(l)return;M=C.abiItem.name,N=(k=C.abiItem.inputs)==null?void 0:k.some(I=>!("name"in I&&I.name))}const ee=De(B,{args:N?[]:{},eventName:M});v.onLogs([ee])}},onError(A){var B;(B=v.onError)==null||B.call(v,A)}});w=P,g||w()}catch(E){c==null||c(E)}})(),()=>w()))})()}class En extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function Ca({chain:e,currentChainId:t}){if(!e)throw new Lo;if(t!==e.id)throw new Fo({chain:e,currentChainId:t})}function Xc(e,{docsPath:t,...n}){const r=(()=>{const s=Ar(e,n);return s instanceof fn?e:s})();return new zo(r,{docsPath:t,...n})}async function Rr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function _r(e,t){var y,g,w,v;const{account:n=e.account,chain:r=e.chain,accessList:s,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:l,to:h,value:m,...p}=t;if(!n)throw new En({docsPath:"/docs/actions/wallet/sendTransaction"});const b=ce(n);try{Ut(t);let E;if(r!==null&&(E=await $(e,Lt,"getChainId")({}),Ca({currentChainId:E,chain:r})),b.type==="local"){const B=await $(e,wn,"prepareTransactionRequest")({account:b,accessList:s,blobs:a,chain:r,chainId:E,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:l,parameters:[...Ia,"sidecars"],to:h,value:m,...p}),k=(y=r==null?void 0:r.serializers)==null?void 0:y.transaction,C=await b.signTransaction(B,{serializer:k});return await $(e,Rr,"sendRawTransaction")({serializedTransaction:C})}const x=(v=(w=(g=e.chain)==null?void 0:g.formatters)==null?void 0:w.transactionRequest)==null?void 0:v.format,A=(x||Nt)({...gn(p,{format:x}),accessList:s,blobs:a,data:o,from:b.address,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:l,to:h,value:m});return await e.request({method:"eth_sendTransaction",params:[A]},{retryCount:0})}catch(E){throw Xc(E,{...t,account:b,chain:t.chain||void 0})}}async function Oa(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=_e({abi:n,args:s,functionName:o});return $(e,_r,"sendTransaction")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...i})}function Fl({abi:e,address:t,client:n}){const r=n,[s,a]=(()=>r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0])(),o=s!=null,i=a!=null,c={};let u=!1,f=!1,d=!1;for(const l of e)if(l.type==="function"?l.stateMutability==="view"||l.stateMutability==="pure"?u=!0:f=!0:l.type==="event"&&(d=!0),u&&f&&d)break;return o&&(u&&(c.read=new Proxy({},{get(l,h){return(...m)=>{const{args:p,options:b}=Gt(m);return $(s,we,"readContract")({abi:e,address:t,functionName:h,args:p,...b})}}})),f&&(c.simulate=new Proxy({},{get(l,h){return(...m)=>{const{args:p,options:b}=Gt(m);return $(s,ka,"simulateContract")({abi:e,address:t,functionName:h,args:p,...b})}}})),d&&(c.createEventFilter=new Proxy({},{get(l,h){return(...m)=>{const p=e.find(g=>g.type==="event"&&g.name===h),{args:b,options:y}=Mn(m,p);return $(s,xr,"createContractEventFilter")({abi:e,address:t,eventName:h,args:b,...y})}}}),c.getEvents=new Proxy({},{get(l,h){return(...m)=>{const p=e.find(g=>g.type==="event"&&g.name===h),{args:b,options:y}=Mn(m,p);return $(s,Cr,"getContractEvents")({abi:e,address:t,eventName:h,args:b,...y})}}}),c.watchEvent=new Proxy({},{get(l,h){return(...m)=>{const p=e.find(g=>g.type==="event"&&g.name===h),{args:b,options:y}=Mn(m,p);return $(s,$a,"watchContractEvent")({abi:e,address:t,eventName:h,args:b,...y})}}}))),i&&f&&(c.write=new Proxy({},{get(l,h){return(...m)=>{const{args:p,options:b}=Gt(m);return $(a,Oa,"writeContract")({abi:e,address:t,functionName:h,args:p,...b})}}})),(o||i)&&f&&(c.estimateGas=new Proxy({},{get(l,h){return(...m)=>{const{args:p,options:b}=Gt(m);return $(s??a,Ba,"estimateContractGas")({abi:e,address:t,functionName:h,args:p,...b,account:b.account??a.account})}}})),c.address=t,c.abi=e,c}function Gt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function Mn(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}async function Qc(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:O(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{retryCount:0})}function eu(e){const t=G(`0x${e.substring(4)}`).substring(26);return mr(`0x${t}`)}const ar=256;let Vt=ar,Zt;function tu(e=11){if(!Zt||Vt+e>ar*2){Zt="",Vt=0;for(let t=0;t<ar;t++)Zt+=(256+Math.random()*256|0).toString(16).substring(1)}return Zt.substring(Vt,Vt+++e)}function Nr(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:o=4e3,type:i="base"}=e,c=e.chain,u=e.account?ce(e.account):void 0,{config:f,request:d,value:l}=e.transport({chain:c,pollingInterval:o}),h={...f,...l},m={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:a,pollingInterval:o,request:d,transport:h,type:i,uid:tu()};function p(b){return y=>{const g=y(b);for(const v in m)delete g[v];const w={...b,...g};return Object.assign(w,{extend:p(w)})}}return Object.assign(m,{extend:p(m)})}function zl(){return null}function or(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:i,error:u}):t;f&&await nn(f),o({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});a(u)}};o()})}function nu(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:a=3}={...t,...r};return or(async()=>{try{return await e(n)}catch(o){const i=o;switch(i.code){case yt.code:throw new yt(i);case bt.code:throw new bt(i);case gt.code:throw new gt(i);case wt.code:throw new wt(i);case Ge.code:throw new Ge(i);case Ve.code:throw new Ve(i);case vt.code:throw new vt(i);case xt.code:throw new xt(i);case et.code:throw new et(i);case Et.code:throw new Et(i);case tt.code:throw new tt(i);case Pt.code:throw new Pt(i);case Fe.code:throw new Fe(i);case At.code:throw new At(i);case It.code:throw new It(i);case Bt.code:throw new Bt(i);case St.code:throw new St(i);case Tt.code:throw new Tt(i);case 5e3:throw new Fe(i);default:throw o instanceof S?o:new kc(i)}}},{delay:({count:o,error:i})=>{var c;if(i&&i instanceof Le){const u=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return Number.parseInt(u)*1e3}return~~(1<<o)*s},retryCount:a,shouldRetry:({error:o})=>ru(o)})}}function ru(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===tt.code||e.code===Ge.code:e instanceof Le&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Pn({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:nu(n,{retryCount:r,retryDelay:s}),value:i}}function Dl(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>Pn({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}function Hl(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:a,retryDelay:o}=t;return({chain:i,pollingInterval:c=4e3,timeout:u,...f})=>{let d=e,l=()=>{};const h=Pn({key:n,name:r,async request({method:m,params:p}){const b=async(y=0)=>{const g=d[y]({...f,chain:i,retryCount:0,timeout:u});try{const w=await g.request({method:m,params:p});return l({method:m,params:p,response:w,transport:g,status:"success"}),w}catch(w){if(l({error:w,method:m,params:p,transport:g,status:"error"}),su(w)||y===d.length-1)throw w;return b(y+1)}};return b()},retryCount:a,retryDelay:o,type:"fallback"},{onResponse:m=>l=m,transports:d.map(m=>m({chain:i,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};au({chain:i,interval:m.interval??c,onTransports:p=>d=p,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return h}}function su(e){return"code"in e&&typeof e.code=="number"&&(e.code===et.code||e.code===Fe.code||e.code===5e3)}function au({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:a,weights:o={}}){const{stability:i=.7,latency:c=.3}=o,u=[],f=async()=>{const d=await Promise.all(a.map(async m=>{const p=m({chain:e,retryCount:0,timeout:s}),b=Date.now();let y,g;try{await p.request({method:"net_listening"}),g=1}catch{g=0}finally{y=Date.now()}return{latency:y-b,success:g}}));u.push(d),u.length>r&&u.shift();const l=Math.max(...u.map(m=>Math.max(...m.map(({latency:p})=>p)))),h=a.map((m,p)=>{const b=u.map(E=>E[p].latency),g=1-b.reduce((E,x)=>E+x,0)/b.length/l,w=u.map(E=>E[p].success),v=w.reduce((E,x)=>E+x,0)/w.length;return v===0?[0,p]:[c*g+i*v,p]}).sort((m,p)=>p[0]-m[0]);n(h.map(([,m])=>a[m])),await nn(t),f()};f()}class Ra extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function _a(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}function ou(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ir=ou();function iu(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:o=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=i;try{const l=await _a(async({signal:m})=>{const p={...i,body:Array.isArray(r)?z(r.map(g=>({jsonrpc:"2.0",id:g.id??ir.take(),...g}))):z({jsonrpc:"2.0",id:r.id??ir.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:f||(o>0?m:null)},b=new Request(e,p);return s&&await s(b),await fetch(e,p)},{errorInstance:new nr({body:r,url:e}),timeout:o,signal:!0});a&&await a(l);let h;if((d=l.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?h=await l.json():(h=await l.text(),h=JSON.parse(h||"{}")),!l.ok)throw new Le({body:r,details:z(h.error)||l.statusText,headers:l.headers,status:l.status,url:e});return h}catch(l){throw l instanceof Le||l instanceof nr?l:new Le({body:r,details:l.message,url:e})}}}}function Gl(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:f,timeout:d})=>{const{batchSize:l=1e3,wait:h=0}=typeof n=="object"?n:{},m=t.retryCount??f,p=d??t.timeout??1e4,b=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!b)throw new Ra;const y=iu(b,{fetchOptions:r,onRequest:o,onResponse:i,timeout:p});return Pn({key:s,name:a,async request({method:g,params:w}){const v={method:g,params:w},{schedule:E}=Or({id:b,wait:h,shouldSplitBatch(B){return B.length>l},fn:B=>y.request({body:B}),sort:(B,k)=>B.id-k.id}),x=async B=>n?E(B):[await y.request({body:B})],[{error:P,result:A}]=await x(v);if(P)throw new Pr({body:v,error:P,url:b});return A},retryCount:m,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:b})}}function Mr(e,t){var r,s,a,o,i,c;if(!(e instanceof S))return!1;const n=e.walk(u=>u instanceof tr);return n instanceof tr?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((a=n.data)==null?void 0:a.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===ma[50]):!1}function Na(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return R(t)?t:null}function Jt(e){let t=new Uint8Array(32).fill(0);if(!e)return K(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Na(n[r]),a=s?ae(s):G(je(n[r]),"bytes");t=G(le([t,a]),"bytes")}return K(t)}function cu(e){return`[${e.slice(2)}]`}function uu(e){const t=new Uint8Array(32).fill(0);return e?Na(e)||G(je(e)):K(t)}function An(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(je(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=je(s[a]);o.byteLength>255&&(o=je(cu(uu(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function du(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ct({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=_e({abi:Ss,functionName:"addr",...r!=null?{args:[Jt(s),BigInt(r)]}:{args:[Jt(s)]}}),f={address:c,abi:Ta,functionName:"resolve",args:[ye(An(s)),u],blockNumber:t,blockTag:n},d=$(e,we,"readContract"),l=a?await d({...f,args:[...f.args,a]}):await d(f);if(l[0]==="0x")return null;const h=it({abi:Ss,args:r!=null?[Jt(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return h==="0x"||Ot(h)==="0x00"?null:h}catch(u){if(o)throw u;if(Mr(u,"resolve"))return null;throw u}}class fu extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class lt extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class qr extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class lu extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const pu=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,mu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,hu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,yu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function bu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ks(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ma({uri:e,gatewayUrls:t}){const n=hu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ks(t==null?void 0:t.ipfs,"https://ipfs.io"),s=ks(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(pu),{protocol:o,subpath:i,target:c,subtarget:u=""}=(a==null?void 0:a.groups)||{},f=o==="ipns:/"||i==="ipns/",d=o==="ipfs:/"||i==="ipfs/"||mu.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(yu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new qr({uri:e})}function qa(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new fu({data:e});return e.image||e.image_url||e.image_data}async function gu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await jr({gatewayUrls:e,uri:qa(n)})}catch{throw new qr({uri:t})}}async function jr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ma({uri:t,gatewayUrls:e});if(r||await bu(n))return n;throw new qr({uri:t})}function wu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new lt({reason:"Only EIP-155 supported"});if(!o)throw new lt({reason:"Chain ID not found"});if(!c)throw new lt({reason:"Contract address not found"});if(!s)throw new lt({reason:"Token ID not found"});if(!i)throw new lt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function vu(e,{nft:t}){if(t.namespace==="erc721")return we(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return we(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new lu({namespace:t.namespace})}async function xu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Eu(e,{gatewayUrls:t,record:n}):jr({uri:n,gatewayUrls:t})}async function Eu(e,{gatewayUrls:t,record:n}){const r=wu(n),s=await vu(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Ma({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=i?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return jr({uri:qa(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),gu({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function ja(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ct({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:Ta,functionName:"resolve",args:[ye(An(r)),_e({abi:Bs,functionName:"text",args:[Jt(r),s]})],blockNumber:t,blockTag:n},f=$(e,we,"readContract"),d=a?await f({...u,args:[...u.args,a]}):await f(u);if(d[0]==="0x")return null;const l=it({abi:Bs,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(o)throw u;if(Mr(u,"resolve"))return null;throw u}}async function Pu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await $(e,ja,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await xu(e,{record:c,gatewayUrls:r})}catch{return null}}async function Au(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=ct({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Uc,functionName:"reverse",args:[ye(An(c))],blockNumber:n,blockTag:r},f=$(e,we,"readContract"),[d,l]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(a)throw u;if(Mr(u,"reverse"))return null;throw u}}async function Iu(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ct({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await $(e,we,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ye(An(r))],blockNumber:t,blockTag:n});return o}async function Bu(e){const t=bn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ua(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=bn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(l=>jt({abi:[l],eventName:l.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?O(a):a,toBlock:typeof i=="bigint"?O(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!o,toBlock:i,type:"event"}}async function La(e){const t=bn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Su(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?O(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Tu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ku(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?O(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),Y(a)}async function $u(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?O(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function Cu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Ou(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?O(n):void 0,o=await e.request({method:"eth_feeHistory",params:[O(t),a||r,s]});return Cu(o)}async function Ru(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>De(a));return t.abi?kr({abi:t.abi,logs:s,strict:n}):s}class _u extends S{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${st(c)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class Nu extends S{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${st(n)}`,`Response: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class Mu extends S{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function In(e,t){if(!ie(e,{strict:!1}))throw new ge({address:e});if(!ie(t,{strict:!1}))throw new ge({address:t});return e.toLowerCase()===t.toLowerCase()}const qu="0x556f1830",Fa={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function ju(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=ga({data:r,abi:[Fa]}),[o,i,c,u,f]=a,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:za;try{if(!In(s,o))throw new Mu({sender:o,to:s});const h=await l({data:c,sender:o,urls:i}),{data:m}=await Ft(e,{blockNumber:t,blockTag:n,data:le([u,Re([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return m}catch(h){throw new _u({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:i})}}async function za({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],i=o.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const u=await fetch(o.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let f;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new Le({body:c,details:f!=null&&f.error?z(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!R(f)){r=new Nu({result:f,url:o});continue}return f}catch(u){r=new Le({body:c,details:u.message,url:o})}}throw r}const Uu=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:za,offchainLookup:ju,offchainLookupAbiItem:Fa,offchainLookupSignature:qu},Symbol.toStringTag,{value:"Module"}));function Vl({chains:e,id:t}){return e.find(n=>n.id===t)}const Lu=/^(.*)\[([0-9]*)\]$/,Da=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ha=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,qn=new Map;async function Fu(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:s}=e,{attempts:a=5,delay:o=2e3}=typeof r=="object"?r:{};let i=qn.get(`${n}:${s}`);if(i)return i;let c=0;const{schedule:u}=Or({id:`${n}:${s}`,fn:async()=>{const l=new Map,h=new Map;let m,p;async function b(){return t({onError(y){var g,w;m=y;for(const v of l.values())(g=v.onError)==null||g.call(v,m);for(const v of h.values())(w=v.onError)==null||w.call(v,m);l.clear(),h.clear(),r&&c<a&&setTimeout(async()=>{c++,p=await b().catch(console.error)},o)},onOpen(){m=void 0,c=0},onResponse(y){const g=y.method==="eth_subscription",w=g?y.params.subscription:y.id,v=g?h:l,E=v.get(w);E&&E.onResponse(y),g||v.delete(w)}})}return p=await b(),m=void 0,i={close(){p.close(),qn.delete(`${n}:${s}`)},socket:p,request({body:y,onError:g,onResponse:w}){m&&g&&g(m);const v=y.id??ir.take(),E=x=>{var P;typeof x.id=="number"&&v!==x.id||(y.method==="eth_subscribe"&&typeof x.result=="string"&&h.set(x.result,{onResponse:E,onError:g}),y.method==="eth_unsubscribe"&&h.delete((P=y.params)==null?void 0:P[0]),w(x))};l.set(v,{onResponse:E,onError:g});try{p.request({body:{jsonrpc:"2.0",id:v,...y}})}catch(x){g==null||g(x)}},requestAsync({body:y,timeout:g=1e4}){return _a(()=>new Promise((w,v)=>this.request({body:y,onError:v,onResponse:w})),{errorInstance:new nr({body:y,url:s}),timeout:g})},requests:l,subscriptions:h,url:s},qn.set(`${n}:${s}`,i),[i]}}),[f,[d]]=await u();return d}async function Xt(e,t={}){const{reconnect:n}=t;return Fu({async getSocket({onError:r,onOpen:s,onResponse:a}){const o=await yr(()=>import("./native-fae38879.js"),[]).then(d=>d.WebSocket),i=new o(e);function c(){i.removeEventListener("close",c),i.removeEventListener("message",u),i.removeEventListener("error",r),i.removeEventListener("open",s)}function u({data:d}){a(JSON.parse(d))}i.addEventListener("close",c),i.addEventListener("message",u),i.addEventListener("error",r),i.addEventListener("open",s),i.readyState===o.CONNECTING&&await new Promise((d,l)=>{i&&(i.onopen=d,i.onerror=l)});const{close:f}=i;return Object.assign(i,{close(){f.bind(i)(),c()},request({body:d}){if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new Sc({body:d,url:i.url,details:"Socket is closed."});return i.send(JSON.stringify(d))}})},reconnect:n,url:e})}async function zu(e){const t=await Xt(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Ga(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Ur({domain:t}),...e.types};Ja({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(Va({domain:t,types:s})),r!=="EIP712Domain"&&a.push(Za({data:n,primaryType:r,types:s})),G(le(a))}function Va({domain:e,types:t}){return Za({data:e,primaryType:"EIP712Domain",types:t})}function Za({data:e,primaryType:t,types:n}){const r=Wa({data:e,primaryType:t,types:n});return G(r)}function Wa({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Du({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=Ya({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return Re(r,s)}function Du({primaryType:e,types:t}){const n=ye(Hu({primaryType:e,types:t}));return G(n)}function Hu({primaryType:e,types:t}){let n="";const r=Ka({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function Ka({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])Ka({primaryType:a.type,types:t},n);return n}function Ya({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},G(Wa({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},G(r)];if(n==="string")return[{type:"bytes32"},G(ye(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>Ya({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},G(Re(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function Ja(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(o,i)=>{for(const c of o){const{name:u,type:f}=c,d=i[u],l=f.match(Ha);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,b,y]=l;O(d,{signed:b==="int",size:Number.parseInt(y)/8})}if(f==="address"&&typeof d=="string"&&!ie(d))throw new ge({address:d});const h=f.match(Da);if(h){const[p,b]=h;if(b&&X(d)!==Number.parseInt(b))throw new fa({expectedSize:Number.parseInt(b),givenSize:X(d)})}const m=s[f];m&&a(m,d)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),r!=="EIP712Domain"){const o=s[r];a(o,n)}}function Ur({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Zl({domain:e}){return Va({domain:e,types:{EIP712Domain:Ur({domain:e})}})}function Wl(e){const{abi:t,data:n}=e,r=ze(n,0,4),s=t.find(a=>a.type==="function"&&r===qt(pe(a)));if(!s)throw new Vi(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?at(s.inputs,ze(n,4)):void 0}}const jn="/docs/contract/encodeDeployData";function Xa(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new aa({docsPath:jn});if(!("inputs"in s))throw new tn({docsPath:jn});if(!s.inputs||s.inputs.length===0)throw new tn({docsPath:jn});const a=Re(s.inputs,n);return _t([r,a])}const Un="/docs/contract/encodeErrorResult";function Kl(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ze({abi:t,args:r,name:n});if(!c)throw new bs(n,{docsPath:Un});s=c}if(s.type!=="error")throw new bs(void 0,{docsPath:Un});const a=pe(s),o=qt(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new Hi(s.name,{docsPath:Un});i=Re(s.inputs,r)}return _t([o,i])}const Ln="/docs/contract/encodeFunctionResult";function Yl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Ze({abi:t,name:n});if(!o)throw new Qe(n,{docsPath:Ln});s=o}if(s.type!=="function")throw new Qe(void 0,{docsPath:Ln});if(!s.outputs)throw new da(s.name,{docsPath:Ln});let a=Array.isArray(r)?r:[r];return s.outputs.length===0&&!a[0]&&(a=[]),Re(s.outputs,a)}function Jl(e,t){if(e.length!==t.length)throw new ia({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Qa(s,a))}return _t(n)}function Qa(e,t,n=!1){if(e==="address"){const o=t;if(!ie(o))throw new ge({address:o});return Yt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return pr(t);if(e==="bytes")return t;if(e==="bool")return Yt(zs(t),{size:n?32:1});const r=e.match(Ha);if(r){const[o,i,c="256"]=r,u=Number.parseInt(c)/8;return O(t,{size:n?32:u,signed:i==="int"})}const s=e.match(Da);if(s){const[o,i]=s;if(Number.parseInt(i)!==(t.length-2)/2)throw new fa({expectedSize:Number.parseInt(i),givenSize:(t.length-2)/2});return Yt(t,{dir:"right",size:n?32:null})}const a=e.match(Lu);if(a&&Array.isArray(t)){const[o,i]=a,c=[];for(let u=0;u<t.length;u++)c.push(Qa(i,t[u],!0));return c.length===0?"0x":_t(c)}throw new Xi(e)}function $s(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Xl(e){return e.opcode==="CREATE2"?Vu(e):Gu(e)}function Gu(e){const t=ae(He(e.from));let n=ae(e.nonce);return n[0]===0&&(n=new Uint8Array([])),He(`0x${G(Do([t,n],"bytes")).slice(26)}`)}function Vu(e){const t=ae(He(e.from)),n=Yt($s(e.salt)?e.salt:ae(e.salt),{size:32}),r=(()=>"bytecodeHash"in e?$s(e.bytecodeHash)?e.bytecodeHash:ae(e.bytecodeHash):G(e.bytecode,"bytes"))();return He(ze(G(le([ae("0xff"),t,n,r])),12))}function eo(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new $o(e);return Rt(e)}return e})(),r=Qt(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return to(r,t)}function to(e,t="hex"){if(e.bytes.length===0)return t==="hex"?K(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Cs(e,n,128),a=e.readBytes(s);return t==="hex"?K(a):a}const r=Cs(e,n,192);return Zu(e,r,t)}function Cs(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new S("Invalid RLP prefix")}function Zu(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(to(e,n));return s}function Wu(e){return R(e)&&X(e)===32}const Ku=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),no=Uint8Array.from({length:16},(e,t)=>t),Yu=no.map(e=>(9*e+5)%16);let Lr=[no],Fr=[Yu];for(let e=0;e<4;e++)for(let t of[Lr,Fr])t.push(t[e].map(n=>Ku[n]));const ro=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Ju=Lr.map((e,t)=>e.map(n=>ro[t][n])),Xu=Fr.map((e,t)=>e.map(n=>ro[t][n])),Qu=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ed=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Wt=(e,t)=>e<<t|e>>>32-t;function Os(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Kt=new Uint32Array(16);class td extends Go{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let h=0;h<16;h++,n+=4)Kt[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,i=this.h2|0,c=i,u=this.h3|0,f=u,d=this.h4|0,l=d;for(let h=0;h<5;h++){const m=4-h,p=Qu[h],b=ed[h],y=Lr[h],g=Fr[h],w=Ju[h],v=Xu[h];for(let E=0;E<16;E++){const x=Wt(r+Os(h,a,i,u)+Kt[y[E]]+p,w[E])+d|0;r=d,d=u,u=Wt(i,10)|0,i=a,a=x}for(let E=0;E<16;E++){const x=Wt(s+Os(m,o,c,f)+Kt[g[E]]+b,v[E])+l|0;s=l,l=f,f=Wt(c,10)|0,c=o,o=x}}this.set(this.h1+i+f|0,this.h2+u+l|0,this.h3+d+s|0,this.h4+r+o|0,this.h0+a+c|0)}roundClean(){Kt.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const nd=Ho(()=>new td);function Ql(e,t){const n=t||"hex",r=nd(R(e,{strict:!1})?ae(e):e);return n==="bytes"?r:ye(r)}async function rd({hash:e,signature:t}){const n=R(e)?e:ye(e),{secp256k1:r}=await yr(()=>Promise.resolve().then(()=>If),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),m=Rs(h);return new r.Signature(j(u),j(f)).addRecoveryBit(m)}const o=R(t)?t:ye(t),i=Y(`0x${o.slice(130)}`),c=Rs(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Rs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function zr({hash:e,signature:t}){return eu(await rd({hash:e,signature:t}))}const sd=`Ethereum Signed Message:
`;function Dr(e,t){const n=(()=>typeof e=="string"?je(e):e.raw instanceof Uint8Array?e.raw:ae(e.raw))(),r=je(`${sd}${n.length}`);return G(le([r,n]),t)}async function ad({message:e,signature:t}){return zr({hash:Dr(e),signature:t})}async function od(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return zr({hash:Ga({domain:t,message:n,primaryType:r,types:a}),signature:s})}async function e0({address:e,message:t,signature:n}){return In(He(e),await ad({message:t,signature:n}))}async function t0(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return In(He(t),await od({domain:n,message:r,primaryType:s,signature:a,types:o}))}function id(e){const t=Vo(e,0,1);if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&Y(t)>=192)return"legacy";throw new Zo({serializedType:t})}function cd(e){const t=id(e);return t==="eip1559"?dd(e):t==="eip2930"?fd(e):t==="eip4844"?ud(e):ld(e)}function ud(e){const t=Hr(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,i,c,u,f,d,l,h,m,p,b,y,g]=r,[w,v,E]=s;if(!(r.length===11||r.length===14))throw new ln({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:i,maxFeePerGas:c,gas:u,to:f,value:d,data:l,accessList:h,...r.length>9?{v:b,r:y,s:g}:{}},serializedTransaction:e,type:"eip4844"});const x={blobVersionedHashes:p,chainId:Y(a),type:"eip4844"};return R(f)&&f!=="0x"&&(x.to=f),R(u)&&u!=="0x"&&(x.gas=j(u)),R(l)&&l!=="0x"&&(x.data=l),R(o)&&o!=="0x"&&(x.nonce=Y(o)),R(d)&&d!=="0x"&&(x.value=j(d)),R(m)&&m!=="0x"&&(x.maxFeePerBlobGas=j(m)),R(c)&&c!=="0x"&&(x.maxFeePerGas=j(c)),R(i)&&i!=="0x"&&(x.maxPriorityFeePerGas=j(i)),h.length!==0&&h!=="0x"&&(x.accessList=Gr(h)),w&&v&&E&&(x.sidecars=Gs({blobs:w,commitments:v,proofs:E})),Wo(x),{...r.length===14?Vr(r):void 0,...x}}function dd(e){const t=Hr(e),[n,r,s,a,o,i,c,u,f,d,l,h]=t;if(!(t.length===9||t.length===12))throw new ln({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:i,value:c,data:u,accessList:f,...t.length>9?{v:d,r:l,s:h}:{}},serializedTransaction:e,type:"eip1559"});const m={chainId:Y(n),type:"eip1559"};return R(i)&&i!=="0x"&&(m.to=i),R(o)&&o!=="0x"&&(m.gas=j(o)),R(u)&&u!=="0x"&&(m.data=u),R(r)&&r!=="0x"&&(m.nonce=Y(r)),R(c)&&c!=="0x"&&(m.value=j(c)),R(a)&&a!=="0x"&&(m.maxFeePerGas=j(a)),R(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=j(s)),f.length!==0&&f!=="0x"&&(m.accessList=Gr(f)),Ko(m),{...t.length===12?Vr(t):void 0,...m}}function fd(e){const t=Hr(e),[n,r,s,a,o,i,c,u,f,d,l]=t;if(!(t.length===8||t.length===11))throw new ln({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:i,data:c,accessList:u,...t.length>8?{v:f,r:d,s:l}:{}},serializedTransaction:e,type:"eip2930"});const h={chainId:Y(n),type:"eip2930"};return R(o)&&o!=="0x"&&(h.to=o),R(a)&&a!=="0x"&&(h.gas=j(a)),R(c)&&c!=="0x"&&(h.data=c),R(r)&&r!=="0x"&&(h.nonce=Y(r)),R(i)&&i!=="0x"&&(h.value=j(i)),R(s)&&s!=="0x"&&(h.gasPrice=j(s)),u.length!==0&&u!=="0x"&&(h.accessList=Gr(u)),Yo(h),{...t.length===11?Vr(t):void 0,...h}}function ld(e){const t=eo(e,"hex"),[n,r,s,a,o,i,c,u,f]=t;if(!(t.length===6||t.length===9))throw new ln({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:i,...t.length>6?{v:c,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const d={type:"legacy"};if(R(a)&&a!=="0x"&&(d.to=a),R(s)&&s!=="0x"&&(d.gas=j(s)),R(i)&&i!=="0x"&&(d.data=i),R(n)&&n!=="0x"&&(d.nonce=Y(n)),R(o)&&o!=="0x"&&(d.value=j(o)),R(r)&&r!=="0x"&&(d.gasPrice=j(r)),Jo(d),t.length===6)return d;const l=R(c)&&c!=="0x"?j(c):0n;if(f==="0x"&&u==="0x")return l>0&&(d.chainId=Number(l)),d;const h=l,m=Number((h-35n)/2n);if(m>0)d.chainId=m;else if(h!==27n&&h!==28n)throw new Xo({v:h});return d.v=h,d.s=f,d.r=u,d.yParity=h%2n===0n?1:0,d}function Hr(e){return eo(`0x${e.slice(4)}`,"hex")}function Gr(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!ie(r,{strict:!1}))throw new ge({address:r});t.push({address:r,storageKeys:s.map(a=>Wu(a)?a:Ot(a))})}return t}function Vr(e){const t=e.slice(-3),n=t[0]==="0x"||j(t[0])===0n?27n:28n;return{r:be(t[1],{size:32}),s:be(t[2],{size:32}),v:n,yParity:n===27n?0:1}}function n0(e,t="wei"){return Co(e,Oo[t])}function pd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function md(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Y(e.nonce):void 0,storageProof:e.storageProof?pd(e.storageProof):void 0}}async function hd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?O(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return md(i)}async function yd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?O(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Zr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var f,d,l;const o=r||"latest",i=n!==void 0?O(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,O(a)]}):(i||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,O(a)]})),!c)throw new Zs({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||Qo)(c)}async function bd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([$(e,Dt,"getBlockNumber")({}),t?$(e,Zr,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function cr(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Ws({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||ei)(n)}async function gd(e,t){var b;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=r??(typeof((b=e.batch)==null?void 0:b.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=o;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=ct({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,h=0;for(let y=0;y<c.length;y++){const{abi:g,address:w,args:v,functionName:E}=c[y];try{const x=_e({abi:g,args:v,functionName:E});h+=(x.length-2)/2,u>0&&h>u&&d[l].length>0&&(l++,h=(x.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:x,target:w}]}catch(x){const P=kt(x,{abi:g,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:E});if(!n)throw P;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:w}]}}const m=await Promise.allSettled(d.map(y=>$(e,we,"readContract")({abi:sr,address:f,args:[y],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:i}))),p=[];for(let y=0;y<m.length;y++){const g=m[y];if(g.status==="rejected"){if(!n)throw g.reason;for(let v=0;v<d[y].length;v++)p.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let v=0;v<w.length;v++){const{returnData:E,success:x}=w[v],{callData:P}=d[y][v],{abi:A,address:B,functionName:k,args:C}=c[p.length];try{if(P==="0x")throw new hn;if(!x)throw new Er({data:E});const M=it({abi:A,args:C,data:E,functionName:k});p.push(n?{result:M,status:"success"}:M)}catch(M){const N=kt(M,{abi:A,address:B,args:C,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw N;p.push({error:N,result:void 0,status:"failure"})}}}if(p.length!==c.length)throw new S("multicall results mismatch");return p}const wd="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const so=BigInt(0),Bn=BigInt(1),vd=BigInt(2),Sn=e=>e instanceof Uint8Array,xd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nt(e){if(!Sn(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=xd[e[n]];return t}function ao(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Wr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function rt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,a=e.slice(s,s+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function J(e){return Wr(nt(e))}function Kr(e){if(!Sn(e))throw new Error("Uint8Array expected");return Wr(nt(Uint8Array.from(e).reverse()))}function $e(e,t){return rt(e.toString(16).padStart(t*2,"0"))}function Yr(e,t){return $e(e,t).reverse()}function Ed(e){return rt(ao(e))}function W(e,t,n){let r;if(typeof t=="string")try{r=rt(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(Sn(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function re(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!Sn(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function oo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tn(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Pd(e){let t;for(t=0;e>so;e>>=Bn,t+=1);return t}function Ad(e,t){return e>>BigInt(t)&Bn}const Id=(e,t,n)=>e|(n?Bn:so)<<BigInt(t),Jr=e=>(vd<<BigInt(e-1))-Bn,Fn=e=>new Uint8Array(e),_s=e=>Uint8Array.from(e);function io(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Fn(e),s=Fn(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...d)=>n(s,r,...d),c=(d=Fn())=>{s=i(_s([0]),d),r=i(),d.length!==0&&(s=i(_s([1]),d),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=i();const h=r.slice();l.push(h),d+=r.length}return re(...l)};return(d,l)=>{o(),c(d);let h;for(;!(h=l(u()));)c();return o(),h}}const Bd={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ut(e,t,n={}){const r=(s,a,o)=>{const i=Bd[a];if(typeof i!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=e[s];if(!(o&&c===void 0)&&!i(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${a}`)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}const Sd=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Ad,bitLen:Pd,bitMask:Jr,bitSet:Id,bytesToHex:nt,bytesToNumberBE:J,bytesToNumberLE:Kr,concatBytes:re,createHmacDrbg:io,ensureBytes:W,equalBytes:oo,hexToBytes:rt,hexToNumber:Wr,numberToBytesBE:$e,numberToBytesLE:Yr,numberToHexUnpadded:ao,numberToVarBytesBE:Ed,utf8ToBytes:Tn,validateObject:ut},Symbol.toStringTag,{value:"Module"}));function Td(e,t){const n=R(e)?ae(e):e,r=R(t)?ae(t):t;return oo(n,r)}function Ns(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function co(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function kd(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ns(e.outputLen),Ns(e.blockLen)}function rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function $d(e,t){co(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const zn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uo=e=>e instanceof Uint8Array,Dn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),me=(e,t)=>e<<32-t|e>>>t,Cd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Cd)throw new Error("Non little-endian hardware is not supported");function Od(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xr(e){if(typeof e=="string"&&(e=Od(e)),!uo(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Rd(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!uo(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class fo{clone(){return this._cloneInto()}}function _d(e){const t=r=>e().update(Xr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function lo(e=32){if(zn&&typeof zn.getRandomValues=="function")return zn.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Nd(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,i,r)}class Md extends fo{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Dn(this.buffer)}update(t){rn(this);const{view:n,buffer:r,blockLen:s}=this;t=Xr(t);const a=t.length;for(let o=0;o<a;){const i=Math.min(s-this.pos,a-o);if(i===s){const c=Dn(t);for(;s<=a-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rn(this),$d(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Nd(r,s-8,BigInt(this.length*8),a),this.process(r,0);const i=Dn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)i.setUint32(4*d,f[d],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:o,pos:i}=this;return t.length=s,t.pos=i,t.finished=a,t.destroyed=o,s%n&&t.buffer.set(r),t}}const qd=(e,t,n)=>e&t^~e&n,jd=(e,t,n)=>e&t^e&n^t&n,Ud=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ae=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ie=new Uint32Array(64);class Ld extends Md{constructor(){super(64,32,8,!1),this.A=Ae[0]|0,this.B=Ae[1]|0,this.C=Ae[2]|0,this.D=Ae[3]|0,this.E=Ae[4]|0,this.F=Ae[5]|0,this.G=Ae[6]|0,this.H=Ae[7]|0}get(){const{A:t,B:n,C:r,D:s,E:a,F:o,G:i,H:c}=this;return[t,n,r,s,a,o,i,c]}set(t,n,r,s,a,o,i,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=o|0,this.G=i|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ie[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ie[d-15],h=Ie[d-2],m=me(l,7)^me(l,18)^l>>>3,p=me(h,17)^me(h,19)^h>>>10;Ie[d]=p+Ie[d-7]+m+Ie[d-16]|0}let{A:r,B:s,C:a,D:o,E:i,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=me(i,6)^me(i,11)^me(i,25),h=f+l+qd(i,c,u)+Ud[d]+Ie[d]|0,p=(me(r,2)^me(r,13)^me(r,22))+jd(r,s,a)|0;f=u,u=c,c=i,i=o+h|0,o=a,a=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,o=o+this.D|0,i=i+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,a,o,i,c,u,f)}roundClean(){Ie.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sn=_d(()=>new Ld);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V=BigInt(0),F=BigInt(1),Me=BigInt(2),Fd=BigInt(3),ur=BigInt(4),Ms=BigInt(5),qs=BigInt(8);BigInt(9);BigInt(16);function H(e,t){const n=e%t;return n>=V?n:t+n}function zd(e,t,n){if(n<=V||t<V)throw new Error("Expected power/modulo > 0");if(n===F)return V;let r=F;for(;t>V;)t&F&&(r=r*e%n),e=e*e%n,t>>=F;return r}function oe(e,t,n){let r=e;for(;t-- >V;)r*=r,r%=n;return r}function dr(e,t){if(e===V||t<=V)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=H(e,t),r=t,s=V,a=F;for(;n!==V;){const i=r/n,c=r%n,u=s-a*i;r=n,n=c,s=a,a=u}if(r!==F)throw new Error("invert: does not exist");return H(s,t)}function Dd(e){const t=(e-F)/Me;let n,r,s;for(n=e-F,r=0;n%Me===V;n/=Me,r++);for(s=Me;s<e&&zd(s,t,e)!==e-F;s++);if(r===1){const o=(e+F)/ur;return function(c,u){const f=c.pow(u,o);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const a=(n+F)/Me;return function(i,c){if(i.pow(c,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let u=r,f=i.pow(i.mul(i.ONE,s),n),d=i.pow(c,a),l=i.pow(c,n);for(;!i.eql(l,i.ONE);){if(i.eql(l,i.ZERO))return i.ZERO;let h=1;for(let p=i.sqr(l);h<u&&!i.eql(p,i.ONE);h++)p=i.sqr(p);const m=i.pow(f,F<<BigInt(u-h-1));f=i.sqr(m),d=i.mul(d,m),l=i.mul(l,f),u=h}return d}}function Hd(e){if(e%ur===Fd){const t=(e+F)/ur;return function(r,s){const a=r.pow(s,t);if(!r.eql(r.sqr(a),s))throw new Error("Cannot find square root");return a}}if(e%qs===Ms){const t=(e-Ms)/qs;return function(r,s){const a=r.mul(s,Me),o=r.pow(a,t),i=r.mul(s,o),c=r.mul(r.mul(i,Me),o),u=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Dd(e)}const Gd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function po(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Gd.reduce((r,s)=>(r[s]="function",r),t);return ut(e,n)}function Vd(e,t,n){if(n<V)throw new Error("Expected power > 0");if(n===V)return e.ONE;if(n===F)return t;let r=e.ONE,s=t;for(;n>V;)n&F&&(r=e.mul(r,s)),s=e.sqr(s),n>>=F;return r}function Zd(e,t){const n=new Array(t.length),r=t.reduce((a,o,i)=>e.is0(o)?a:(n[i]=a,e.mul(a,o)),e.ONE),s=e.inv(r);return t.reduceRight((a,o,i)=>e.is0(o)?a:(n[i]=e.mul(a,n[i]),e.mul(a,o)),s),n}function mo(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Wd(e,t,n=!1,r={}){if(e<=V)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=mo(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Hd(e),i=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:Jr(s),ZERO:V,ONE:F,create:c=>H(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return V<=c&&c<e},is0:c=>c===V,isOdd:c=>(c&F)===F,neg:c=>H(-c,e),eql:(c,u)=>c===u,sqr:c=>H(c*c,e),add:(c,u)=>H(c+u,e),sub:(c,u)=>H(c-u,e),mul:(c,u)=>H(c*u,e),pow:(c,u)=>Vd(i,c,u),div:(c,u)=>H(c*dr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>dr(c,e),sqrt:r.sqrt||(c=>o(i,c)),invertBatch:c=>Zd(i,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?Yr(c,a):$e(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?Kr(c):J(c)}});return Object.freeze(i)}function ho(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function yo(e){const t=ho(e);return t+Math.ceil(t/2)}function Kd(e,t,n=!1){const r=e.length,s=ho(t),a=yo(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const o=n?J(e):Kr(e),i=H(o,t-F)+F;return n?Yr(i,s):$e(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yd=BigInt(0),Hn=BigInt(1);function Jd(e,t){const n=(s,a)=>{const o=a.negate();return s?o:a},r=s=>{const a=Math.ceil(t/s)+1,o=2**(s-1);return{windows:a,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,a){let o=e.ZERO,i=s;for(;a>Yd;)a&Hn&&(o=o.add(i)),i=i.double(),a>>=Hn;return o},precomputeWindow(s,a){const{windows:o,windowSize:i}=r(a),c=[];let u=s,f=u;for(let d=0;d<o;d++){f=u,c.push(f);for(let l=1;l<i;l++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(s,a,o){const{windows:i,windowSize:c}=r(s);let u=e.ZERO,f=e.BASE;const d=BigInt(2**s-1),l=2**s,h=BigInt(s);for(let m=0;m<i;m++){const p=m*c;let b=Number(o&d);o>>=h,b>c&&(b-=l,o+=Hn);const y=p,g=p+Math.abs(b)-1,w=m%2!==0,v=b<0;b===0?f=f.add(n(w,a[y])):u=u.add(n(v,a[g]))}return{p:u,f}},wNAFCached(s,a,o,i){const c=s._WINDOW_SIZE||1;let u=a.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&a.set(s,i(u))),this.wNAF(c,u,o)}}}function bo(e){return po(e.Fp),ut(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Xd(e){const t=bo(e);ut(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Qd,hexToBytes:ef}=Sd,qe={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=qe;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Qd(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=qe,n=typeof e=="string"?ef(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=qe._parseInt(n.subarray(2)),{d:o,l:i}=qe._parseInt(a);if(i.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const f=u.toString(16);return f.length&1?`0${f}`:f},r=t(n(e.s)),s=t(n(e.r)),a=r.length/2,o=s.length/2,i=n(a),c=n(o);return`30${n(o+a+4)}02${c}${s}02${i}${r}`}},fe=BigInt(0),L=BigInt(1),Be=BigInt(2),an=BigInt(3),js=BigInt(4);function tf(e){const t=Xd(e),{Fp:n}=t,r=t.toBytes||((m,p,b)=>{const y=p.toAffine();return re(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=t.fromBytes||(m=>{const p=m.subarray(1),b=n.fromBytes(p.subarray(0,n.BYTES)),y=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:b,y}});function a(m){const{a:p,b}=t,y=n.sqr(m),g=n.mul(y,m);return n.add(n.add(g,n.mul(m,p)),b)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&fe<m&&m<t.n}function i(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:p,nByteLength:b,wrapPrivateKey:y,n:g}=t;if(p&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=nt(m)),typeof m!="string"||!p.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let w;try{w=typeof m=="bigint"?m:J(W("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return y&&(w=H(w,g)),i(w),w}const u=new Map;function f(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(p,b,y){if(this.px=p,this.py=b,this.pz=y,p==null||!n.isValid(p))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(p){const{x:b,y}=p||{};if(!p||!n.isValid(b)||!n.isValid(y))throw new Error("invalid affine point");if(p instanceof d)throw new Error("projective point not allowed");const g=w=>n.eql(w,n.ZERO);return g(b)&&g(y)?d.ZERO:new d(b,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const b=n.invertBatch(p.map(y=>y.pz));return p.map((y,g)=>y.toAffine(b[g])).map(d.fromAffine)}static fromHex(p){const b=d.fromAffine(s(W("pointHex",p)));return b.assertValidity(),b}static fromPrivateKey(p){return d.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y:b}=this.toAffine();if(!n.isValid(p)||!n.isValid(b))throw new Error("bad point: x or y not FE");const y=n.sqr(b),g=a(p);if(!n.eql(y,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){f(p);const{px:b,py:y,pz:g}=this,{px:w,py:v,pz:E}=p,x=n.eql(n.mul(b,E),n.mul(w,g)),P=n.eql(n.mul(y,E),n.mul(v,g));return x&&P}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b}=t,y=n.mul(b,an),{px:g,py:w,pz:v}=this;let E=n.ZERO,x=n.ZERO,P=n.ZERO,A=n.mul(g,g),B=n.mul(w,w),k=n.mul(v,v),C=n.mul(g,w);return C=n.add(C,C),P=n.mul(g,v),P=n.add(P,P),E=n.mul(p,P),x=n.mul(y,k),x=n.add(E,x),E=n.sub(B,x),x=n.add(B,x),x=n.mul(E,x),E=n.mul(C,E),P=n.mul(y,P),k=n.mul(p,k),C=n.sub(A,k),C=n.mul(p,C),C=n.add(C,P),P=n.add(A,A),A=n.add(P,A),A=n.add(A,k),A=n.mul(A,C),x=n.add(x,A),k=n.mul(w,v),k=n.add(k,k),A=n.mul(k,C),E=n.sub(E,A),P=n.mul(k,B),P=n.add(P,P),P=n.add(P,P),new d(E,x,P)}add(p){f(p);const{px:b,py:y,pz:g}=this,{px:w,py:v,pz:E}=p;let x=n.ZERO,P=n.ZERO,A=n.ZERO;const B=t.a,k=n.mul(t.b,an);let C=n.mul(b,w),M=n.mul(y,v),N=n.mul(g,E),ee=n.add(b,y),I=n.add(w,v);ee=n.mul(ee,I),I=n.add(C,M),ee=n.sub(ee,I),I=n.add(b,g);let T=n.add(w,E);return I=n.mul(I,T),T=n.add(C,N),I=n.sub(I,T),T=n.add(y,g),x=n.add(v,E),T=n.mul(T,x),x=n.add(M,N),T=n.sub(T,x),A=n.mul(B,I),x=n.mul(k,N),A=n.add(x,A),x=n.sub(M,A),A=n.add(M,A),P=n.mul(x,A),M=n.add(C,C),M=n.add(M,C),N=n.mul(B,N),I=n.mul(k,I),M=n.add(M,N),N=n.sub(C,N),N=n.mul(B,N),I=n.add(I,N),C=n.mul(M,I),P=n.add(P,C),C=n.mul(T,I),x=n.mul(ee,x),x=n.sub(x,C),C=n.mul(ee,M),A=n.mul(T,A),A=n.add(A,C),new d(x,P,A)}subtract(p){return this.add(p.negate())}is0(){return this.equals(d.ZERO)}wNAF(p){return h.wNAFCached(this,u,p,b=>{const y=n.invertBatch(b.map(g=>g.pz));return b.map((g,w)=>g.toAffine(y[w])).map(d.fromAffine)})}multiplyUnsafe(p){const b=d.ZERO;if(p===fe)return b;if(i(p),p===L)return this;const{endo:y}=t;if(!y)return h.unsafeLadder(this,p);let{k1neg:g,k1:w,k2neg:v,k2:E}=y.splitScalar(p),x=b,P=b,A=this;for(;w>fe||E>fe;)w&L&&(x=x.add(A)),E&L&&(P=P.add(A)),A=A.double(),w>>=L,E>>=L;return g&&(x=x.negate()),v&&(P=P.negate()),P=new d(n.mul(P.px,y.beta),P.py,P.pz),x.add(P)}multiply(p){i(p);let b=p,y,g;const{endo:w}=t;if(w){const{k1neg:v,k1:E,k2neg:x,k2:P}=w.splitScalar(b);let{p:A,f:B}=this.wNAF(E),{p:k,f:C}=this.wNAF(P);A=h.constTimeNegate(v,A),k=h.constTimeNegate(x,k),k=new d(n.mul(k.px,w.beta),k.py,k.pz),y=A.add(k),g=B.add(C)}else{const{p:v,f:E}=this.wNAF(b);y=v,g=E}return d.normalizeZ([y,g])[0]}multiplyAndAddUnsafe(p,b,y){const g=d.BASE,w=(E,x)=>x===fe||x===L||!E.equals(g)?E.multiplyUnsafe(x):E.multiply(x),v=w(this,b).add(w(p,y));return v.is0()?void 0:v}toAffine(p){const{px:b,py:y,pz:g}=this,w=this.is0();p==null&&(p=w?n.ONE:n.inv(g));const v=n.mul(b,p),E=n.mul(y,p),x=n.mul(g,p);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:v,y:E}}isTorsionFree(){const{h:p,isTorsionFree:b}=t;if(p===L)return!0;if(b)return b(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:b}=t;return p===L?this:b?b(d,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),r(d,this,p)}toHex(p=!0){return nt(this.toRawBytes(p))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const l=t.nBitLength,h=Jd(d,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function nf(e){const t=bo(e);return ut(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function rf(e){const t=nf(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function o(I){return fe<I&&I<n.ORDER}function i(I){return H(I,r)}function c(I){return dr(I,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:l}=tf({...t,toBytes(I,T,_){const U=T.toAffine(),q=n.toBytes(U.x),D=re;return _?D(Uint8Array.from([T.hasEvenY()?2:3]),q):D(Uint8Array.from([4]),q,n.toBytes(U.y))},fromBytes(I){const T=I.length,_=I[0],U=I.subarray(1);if(T===s&&(_===2||_===3)){const q=J(U);if(!o(q))throw new Error("Point is not on curve");const D=d(q);let te=n.sqrt(D);const ne=(te&L)===L;return(_&1)===1!==ne&&(te=n.neg(te)),{x:q,y:te}}else if(T===a&&_===4){const q=n.fromBytes(U.subarray(0,n.BYTES)),D=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:q,y:D}}else throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),h=I=>nt($e(I,t.nByteLength));function m(I){const T=r>>L;return I>T}function p(I){return m(I)?i(-I):I}const b=(I,T,_)=>J(I.slice(T,_));class y{constructor(T,_,U){this.r=T,this.s=_,this.recovery=U,this.assertValidity()}static fromCompact(T){const _=t.nByteLength;return T=W("compactSignature",T,_*2),new y(b(T,0,_),b(T,_,2*_))}static fromDER(T){const{r:_,s:U}=qe.toSig(W("DER",T));return new y(_,U)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new y(this.r,this.s,T)}recoverPublicKey(T){const{r:_,s:U,recovery:q}=this,D=P(W("msgHash",T));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const te=q===2||q===3?_+t.n:_;if(te>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ne=q&1?"03":"02",xe=u.fromHex(ne+h(te)),Ee=c(te),We=i(-D*Ee),dt=i(U*Ee),Pe=u.BASE.multiplyAndAddUnsafe(xe,We,dt);if(!Pe)throw new Error("point at infinify");return Pe.assertValidity(),Pe}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return rt(this.toDERHex())}toDERHex(){return qe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rt(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=yo(t.n);return Kd(t.randomBytes(I),t.n)},precompute(I=8,T=u.BASE){return T._setWindowSize(I),T.multiply(BigInt(3)),T}};function w(I,T=!0){return u.fromPrivateKey(I).toRawBytes(T)}function v(I){const T=I instanceof Uint8Array,_=typeof I=="string",U=(T||_)&&I.length;return T?U===s||U===a:_?U===2*s||U===2*a:I instanceof u}function E(I,T,_=!0){if(v(I))throw new Error("first arg must be private key");if(!v(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(f(I)).toRawBytes(_)}const x=t.bits2int||function(I){const T=J(I),_=I.length*8-t.nBitLength;return _>0?T>>BigInt(_):T},P=t.bits2int_modN||function(I){return i(x(I))},A=Jr(t.nBitLength);function B(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(fe<=I&&I<A))throw new Error(`bigint expected < 2^${t.nBitLength}`);return $e(I,t.nByteLength)}function k(I,T,_=C){if(["recovered","canonical"].some(Ne=>Ne in _))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:q}=t;let{lowS:D,prehash:te,extraEntropy:ne}=_;D==null&&(D=!0),I=W("msgHash",I),te&&(I=W("prehashed msgHash",U(I)));const xe=P(I),Ee=f(T),We=[B(Ee),B(xe)];if(ne!=null){const Ne=ne===!0?q(n.BYTES):ne;We.push(W("extraEntropy",Ne))}const dt=re(...We),Pe=xe;function Cn(Ne){const Ke=x(Ne);if(!l(Ke))return;const rs=c(Ke),Ye=u.BASE.multiply(Ke).toAffine(),ue=i(Ye.x);if(ue===fe)return;const Je=i(rs*i(Pe+ue*Ee));if(Je===fe)return;let ss=(Ye.x===ue?0:2)|Number(Ye.y&L),as=Je;return D&&m(Je)&&(as=p(Je),ss^=1),new y(ue,as,ss)}return{seed:dt,k2sig:Cn}}const C={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function N(I,T,_=C){const{seed:U,k2sig:q}=k(I,T,_),D=t;return io(D.hash.outputLen,D.nByteLength,D.hmac)(U,q)}u.BASE._setWindowSize(8);function ee(I,T,_,U=M){var Ye;const q=I;if(T=W("msgHash",T),_=W("publicKey",_),"strict"in U)throw new Error("options.strict was renamed to lowS");const{lowS:D,prehash:te}=U;let ne,xe;try{if(typeof q=="string"||q instanceof Uint8Array)try{ne=y.fromDER(q)}catch(ue){if(!(ue instanceof qe.Err))throw ue;ne=y.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:ue,s:Je}=q;ne=new y(ue,Je)}else throw new Error("PARSE");xe=u.fromHex(_)}catch(ue){if(ue.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&ne.hasHighS())return!1;te&&(T=t.hash(T));const{r:Ee,s:We}=ne,dt=P(T),Pe=c(We),Cn=i(dt*Pe),Ne=i(Ee*Pe),Ke=(Ye=u.BASE.multiplyAndAddUnsafe(xe,Cn,Ne))==null?void 0:Ye.toAffine();return Ke?i(Ke.x)===Ee:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:E,sign:N,verify:ee,ProjectivePoint:u,Signature:y,utils:g}}function sf(e,t){const n=e.ORDER;let r=fe;for(let m=n-L;m%Be===fe;m/=Be)r+=L;const s=r,a=Be<<s-L-L,o=a*Be,i=(n-L)/o,c=(i-L)/Be,u=o-L,f=a,d=e.pow(t,i),l=e.pow(t,(i+L)/Be);let h=(m,p)=>{let b=d,y=e.pow(p,u),g=e.sqr(y);g=e.mul(g,p);let w=e.mul(m,g);w=e.pow(w,c),w=e.mul(w,y),y=e.mul(w,p),g=e.mul(w,m);let v=e.mul(g,y);w=e.pow(v,f);let E=e.eql(w,e.ONE);y=e.mul(g,l),w=e.mul(v,b),g=e.cmov(y,g,E),v=e.cmov(w,v,E);for(let x=s;x>L;x--){let P=x-Be;P=Be<<P-L;let A=e.pow(v,P);const B=e.eql(A,e.ONE);y=e.mul(g,b),b=e.mul(b,b),A=e.mul(v,b),g=e.cmov(y,g,B),v=e.cmov(A,v,B)}return{isValid:E,value:g}};if(e.ORDER%js===an){const m=(e.ORDER-an)/js,p=e.sqrt(e.neg(t));h=(b,y)=>{let g=e.sqr(y);const w=e.mul(b,y);g=e.mul(g,w);let v=e.pow(g,m);v=e.mul(v,w);const E=e.mul(v,p),x=e.mul(e.sqr(v),y),P=e.eql(x,b);let A=e.cmov(E,v,P);return{isValid:P,value:A}}}return h}function af(e,t){if(po(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=sf(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,a,o,i,c,u,f,d;s=e.sqr(r),s=e.mul(s,t.Z),a=e.sqr(s),a=e.add(a,s),o=e.add(a,e.ONE),o=e.mul(o,t.B),i=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),i=e.mul(i,t.A),a=e.sqr(o),u=e.sqr(i),c=e.mul(u,t.A),a=e.add(a,c),a=e.mul(a,o),u=e.mul(u,i),c=e.mul(u,t.B),a=e.add(a,c),f=e.mul(s,o);const{isValid:l,value:h}=n(a,u);d=e.mul(s,r),d=e.mul(d,h),f=e.cmov(f,o,l),d=e.cmov(d,h,l);const m=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,m),f=e.div(f,i),{x:f,y:d}}}function of(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Tn(e);throw new Error("DST must be Uint8Array or string")}const cf=J;function Se(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function uf(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function $t(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function Qr(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function df(e,t,n,r){$t(e),$t(t),Qr(n),t.length>255&&(t=r(re(Tn("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:a}=r,o=Math.ceil(n/s);if(o>255)throw new Error("Invalid xmd length");const i=re(t,Se(t.length,1)),c=Se(0,a),u=Se(n,2),f=new Array(o),d=r(re(c,e,u,Se(0,1),i));f[0]=r(re(d,Se(1,1),i));for(let h=1;h<=o;h++){const m=[uf(d,f[h-1]),Se(h+1,1),i];f[h]=r(re(...m))}return re(...f).slice(0,n)}function ff(e,t,n,r,s){if($t(e),$t(t),Qr(n),t.length>255){const a=Math.ceil(2*r/8);t=s.create({dkLen:a}).update(Tn("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(Se(n,2)).update(t).update(Se(t.length,1)).digest()}function Us(e,t,n){ut(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:a,hash:o,expand:i,DST:c}=n;$t(e),Qr(t);const u=of(c),f=r.toString(2).length,d=Math.ceil((f+s)/8),l=t*a*d;let h;if(i==="xmd")h=df(e,u,l,o);else if(i==="xof")h=ff(e,u,l,s,o);else if(i==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(t);for(let p=0;p<t;p++){const b=new Array(a);for(let y=0;y<a;y++){const g=d*(y+p*a),w=h.subarray(g,g+d);b[y]=H(cf(w),r)}m[p]=b}return m}function lf(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[a,o,i,c]=n.map(u=>u.reduce((f,d)=>e.add(e.mul(f,r),d)));return r=e.div(a,o),s=e.mul(s,e.div(i,c)),{x:r,y:s}}}function pf(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const a=Us(r,2,{...n,DST:n.DST,...s}),o=e.fromAffine(t(a[0])),i=e.fromAffine(t(a[1])),c=o.add(i).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const a=Us(r,1,{...n,DST:n.encodeDST,...s}),o=e.fromAffine(t(a[0])).clearCofactor();return o.assertValidity(),o}}}class go extends fo{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kd(t);const r=Xr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(t){return rn(this),this.iHash.update(t),this}digestInto(t){rn(this),co(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wo=(e,t,n)=>new go(e,t).update(n).digest();wo.create=(e,t)=>new go(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mf(e){return{hash:e,hmac:(t,...n)=>wo(e,t,Rd(...n)),randomBytes:lo}}function hf(e,t){const n=r=>rf({...e,...mf(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),on=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vo=BigInt(1),cn=BigInt(2),Ls=(e,t)=>(e+t/cn)/t;function xo(e){const t=kn,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=oe(f,n,t)*f%t,l=oe(d,n,t)*f%t,h=oe(l,cn,t)*u%t,m=oe(h,s,t)*h%t,p=oe(m,a,t)*m%t,b=oe(p,i,t)*p%t,y=oe(b,c,t)*b%t,g=oe(y,i,t)*p%t,w=oe(g,n,t)*f%t,v=oe(w,o,t)*m%t,E=oe(v,r,t)*u%t,x=oe(E,cn,t);if(!Ce.eql(Ce.sqr(x),e))throw new Error("Cannot find square root");return x}const Ce=Wd(kn,void 0,void 0,{sqrt:xo}),ve=hf({a:BigInt(0),b:BigInt(7),Fp:Ce,n:on,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=on,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=Ls(a*e,t),c=Ls(-r*e,t);let u=H(e-i*n-c*s,t),f=H(-i*r-c*a,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},sn),$n=BigInt(0),Eo=e=>typeof e=="bigint"&&$n<e&&e<kn,yf=e=>typeof e=="bigint"&&$n<e&&e<on,Fs={};function un(e,...t){let n=Fs[e];if(n===void 0){const r=sn(Uint8Array.from(e,s=>s.charCodeAt(0)));n=re(r,r),Fs[e]=n}return sn(re(n,...t))}const es=e=>e.toRawBytes(!0).slice(1),fr=e=>$e(e,32),Gn=e=>H(e,kn),Ct=e=>H(e,on),ts=ve.ProjectivePoint,bf=(e,t,n)=>ts.BASE.multiplyAndAddUnsafe(e,t,n);function lr(e){let t=ve.utils.normPrivateKeyToScalar(e),n=ts.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ct(-t),bytes:es(n)}}function Po(e){if(!Eo(e))throw new Error("bad x: need 0 < x < p");const t=Gn(e*e),n=Gn(t*e+BigInt(7));let r=xo(n);r%cn!==$n&&(r=Gn(-r));const s=new ts(e,r,vo);return s.assertValidity(),s}function Ao(...e){return Ct(J(un("BIP0340/challenge",...e)))}function gf(e){return lr(e).bytes}function wf(e,t,n=lo(32)){const r=W("message",e),{bytes:s,scalar:a}=lr(t),o=W("auxRand",n,32),i=fr(a^J(un("BIP0340/aux",o))),c=un("BIP0340/nonce",i,s,r),u=Ct(J(c));if(u===$n)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=lr(u),l=Ao(f,s,r),h=new Uint8Array(64);if(h.set(f,0),h.set(fr(Ct(d+l*a)),32),!Io(h,r,s))throw new Error("sign: Invalid signature produced");return h}function Io(e,t,n){const r=W("signature",e,64),s=W("message",t),a=W("publicKey",n,32);try{const o=Po(J(a)),i=J(r.subarray(0,32));if(!Eo(i))return!1;const c=J(r.subarray(32,64));if(!yf(c))return!1;const u=Ao(fr(i),es(o),s),f=bf(o,c,Ct(-u));return!(!f||!f.hasEvenY()||f.toAffine().x!==i)}catch{return!1}}const vf=(()=>({getPublicKey:gf,sign:wf,verify:Io,utils:{randomPrivateKey:ve.utils.randomPrivateKey,lift_x:Po,pointToBytes:es,numberToBytesBE:$e,bytesToNumberBE:J,taggedHash:un,mod:H}}))(),xf=(()=>lf(Ce,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),Ef=(()=>af(Ce,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Ce.create(BigInt("-11"))}))(),Bo=(()=>pf(ve.ProjectivePoint,e=>{const{x:t,y:n}=Ef(Ce.create(e[0]));return xf(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Ce.ORDER,m:1,k:128,expand:"xmd",hash:sn}))(),Pf=(()=>Bo.hashToCurve)(),Af=(()=>Bo.encodeToCurve)(),If=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:Af,hashToCurve:Pf,schnorr:vf,secp256k1:ve},Symbol.toStringTag,{value:"Module"}));function Bf({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new ve.Signature(j(e),j(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function ns(e,{address:t,hash:n,signature:r,...s}){const a=(()=>R(r)?r:typeof r=="object"&&"r"in r&&"s"in r?Bf(r):K(r))();try{const{data:o}=await $(e,Ft,"call")({data:Xa({abi:Lc,args:[t,n,a],bytecode:wd}),...s});return Td(o??"0x0","0x1")}catch(o){if(o instanceof va)return!1;throw o}}async function Sf(e,{address:t,message:n,signature:r,...s}){const a=Dr(n);return ns(e,{address:t,hash:a,signature:r,...s})}async function Tf(e,t){const{address:n,signature:r,message:s,primaryType:a,types:o,domain:i,...c}=t,u=Ga({message:s,primaryType:a,types:o,domain:i});return ns(e,{address:n,hash:u,signature:r,...c})}function So(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let c;return i?(()=>{const d=z(["watchBlockNumber",e.uid,t,n,o]);return ke(d,{onBlockNumber:r,onError:s},l=>zt(async()=>{var h;try{const m=await $(e,Dt,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let p=c+1n;p<m;p++)l.onBlockNumber(p,c),c=p}(!c||m>c)&&(l.onBlockNumber(m,c),c=m)}catch(m){(h=l.onError)==null||h.call(l,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=z(["watchBlockNumber",e.uid,t,n]);return ke(d,{onBlockNumber:r,onError:s},l=>{let h=!0,m=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(g=>g.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:b}=await p.subscribe({params:["newHeads"],onData(y){var w;if(!h)return;const g=j((w=y.result)==null?void 0:w.number);l.onBlockNumber(g,c),c=g},onError(y){var g;(g=l.onError)==null||g.call(l,y)}});m=b,h||m()}catch(p){s==null||s(p)}})(),()=>m()})})()}async function kf(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:i}){const c=z(["waitForTransactionReceipt",e.uid,n]);let u=0,f,d,l,h=!1;return new Promise((m,p)=>{i&&setTimeout(()=>p(new hs({hash:n})),i);const b=ke(c,{onReplaced:r,resolve:m,reject:p},y=>{const g=$(e,So,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const v=x=>{g(),x(),b()};let E=w;if(!h){u>a&&v(()=>y.reject(new hs({hash:n})));try{if(l){if(t>1&&(!l.blockNumber||E-l.blockNumber+1n<t))return;v(()=>y.resolve(l));return}if(f||(h=!0,await or(async()=>{f=await $(e,Zr,"getTransaction")({hash:n}),f.blockNumber&&(E=f.blockNumber)},{delay:o,retryCount:a}),h=!1),l=await $(e,cr,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||E-l.blockNumber+1n<t))return;v(()=>y.resolve(l))}catch(x){if(x instanceof Zs||x instanceof Ws){if(!f){h=!1;return}try{d=f,h=!0;const P=await or(()=>$(e,Te,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:k})=>k instanceof Ea});h=!1;const A=P.transactions.find(({from:k,nonce:C})=>k===d.from&&C===d.nonce);if(!A||(l=await $(e,cr,"getTransactionReceipt")({hash:A.hash}),t>1&&(!l.blockNumber||E-l.blockNumber+1n<t)))return;let B="replaced";A.to===d.to&&A.value===d.value?B="repriced":A.from===A.to&&A.value===0n&&(B="cancelled"),v(()=>{var k;(k=y.onReplaced)==null||k.call(y,{reason:B,replacedTransaction:d,transaction:A,transactionReceipt:l}),y.resolve(l)})}catch(P){v(()=>y.reject(P))}}else v(()=>y.reject(x))}finally{u++}}}})})})}function $f(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),f=o??!1;let d;return u?(()=>{const m=z(["watchBlocks",e.uid,t,n,r,f,c]);return ke(m,{onBlock:s,onError:a},p=>zt(async()=>{var b;try{const y=await $(e,Te,"getBlock")({blockTag:t,includeTransactions:f});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let g=(d==null?void 0:d.number)+1n;g<y.number;g++){const w=await $(e,Te,"getBlock")({blockNumber:g,includeTransactions:f});p.onBlock(w,d),d=w}}(!(d!=null&&d.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(p.onBlock(y,d),d=y)}catch(y){(b=p.onError)==null||b.call(p,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,p=()=>m=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(g){var E,x,P;if(!m)return;const v=(((P=(x=(E=e.chain)==null?void 0:E.formatters)==null?void 0:x.block)==null?void 0:P.format)||Hs)(g.result);s(v,d),d=v},onError(g){a==null||a(g)}});p=y,m||p()}catch(b){a==null||a(b)}})(),()=>p()})()}function Cf(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),h=d??!1;return l?(()=>{const b=z(["watchEvent",t,n,r,e.uid,s,f,o]);return ke(b,{onLogs:c,onError:i},y=>{let g;o!==void 0&&(g=o-1n);let w,v=!1;const E=zt(async()=>{var x;if(!v){try{w=await $(e,Ua,"createEventFilter")({address:t,args:n,event:s,events:a,strict:h,fromBlock:o})}catch{}v=!0;return}try{let P;if(w)P=await $(e,vn,"getFilterChanges")({filter:w});else{const A=await $(e,Dt,"getBlockNumber")({});g&&g!==A?P=await $(e,$r,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:g+1n,toBlock:A}):P=[],g=A}if(P.length===0)return;if(r)y.onLogs(P);else for(const A of P)y.onLogs([A])}catch(P){w&&P instanceof Ve&&(v=!1),(x=y.onError)==null||x.call(y,P)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await $(e,xn,"uninstallFilter")({filter:w}),E()}})})():(()=>{let b=!0,y=()=>b=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(P=>P.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let v=[];w&&(v=[w.flatMap(x=>jt({abi:[x],eventName:x.name,args:n}))],s&&(v=v[0]));const{unsubscribe:E}=await g.subscribe({params:["logs",{address:t,topics:v}],onData(x){var A;if(!b)return;const P=x.result;try{const{eventName:B,args:k}=Tr({abi:w??[],data:P.data,topics:P.topics,strict:h}),C=De(P,{args:k,eventName:B});c([C])}catch(B){let k,C;if(B instanceof mt||B instanceof yn){if(d)return;k=B.abiItem.name,C=(A=B.abiItem.inputs)==null?void 0:A.some(N=>!("name"in N&&N.name))}const M=De(P,{args:C?[]:{},eventName:k});c([M])}},onError(x){i==null||i(x)}});y=E,b||y()}catch(g){i==null||i(g)}})(),()=>y()})()}function Of(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=z(["watchPendingTransactions",e.uid,t,a]);return ke(u,{onTransactions:r,onError:n},f=>{let d;const l=zt(async()=>{var h;try{if(!d)try{d=await $(e,La,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const m=await $(e,vn,"getFilterChanges")({filter:d});if(m.length===0)return;if(t)f.onTransactions(m);else for(const p of m)f.onTransactions([p])}catch(m){(h=f.onError)==null||h.call(f,m)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await $(e,xn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Rf(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(_f))==null?void 0:d.groups)??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...u}=((l=e.match(Nf))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const _f=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Nf=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Mf(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!In(r.address,t))return!1}catch{return!1}return!0}async function qf(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:i,time:c=new Date,...u}=t,f=Rf(s);if(!f.address||!Mf({address:n,domain:r,message:f,nonce:a,scheme:o,time:c}))return!1;const l=Dr(s);return ns(e,{address:f.address,hash:l,signature:i,...u})}function jf(e){return{call:t=>Ft(e,t),createBlockFilter:()=>Bu(e),createContractEventFilter:t=>xr(e,t),createEventFilter:t=>Ua(e,t),createPendingTransactionFilter:()=>La(e),estimateContractGas:t=>Ba(e,t),estimateGas:t=>Sr(e,t),getBalance:t=>Su(e,t),getBlobBaseFee:()=>Tu(e),getBlock:t=>Te(e,t),getBlockNumber:t=>Dt(e,t),getBlockTransactionCount:t=>ku(e,t),getBytecode:t=>$u(e,t),getChainId:()=>Lt(e),getContractEvents:t=>Cr(e,t),getEnsAddress:t=>du(e,t),getEnsAvatar:t=>Pu(e,t),getEnsName:t=>Au(e,t),getEnsResolver:t=>Iu(e,t),getEnsText:t=>ja(e,t),getFeeHistory:t=>Ou(e,t),estimateFeesPerGas:t=>qc(e,t),getFilterChanges:t=>vn(e,t),getFilterLogs:t=>Ru(e,t),getGasPrice:()=>Br(e),getLogs:t=>$r(e,t),getProof:t=>hd(e,t),estimateMaxPriorityFeePerGas:t=>Mc(e,t),getStorageAt:t=>yd(e,t),getTransaction:t=>Zr(e,t),getTransactionConfirmations:t=>bd(e,t),getTransactionCount:t=>Aa(e,t),getTransactionReceipt:t=>cr(e,t),multicall:t=>gd(e,t),prepareTransactionRequest:t=>wn(e,t),readContract:t=>we(e,t),sendRawTransaction:t=>Rr(e,t),simulateContract:t=>ka(e,t),verifyMessage:t=>Sf(e,t),verifySiweMessage:t=>qf(e,t),verifyTypedData:t=>Tf(e,t),uninstallFilter:t=>xn(e,t),waitForTransactionReceipt:t=>kf(e,t),watchBlocks:t=>$f(e,t),watchBlockNumber:t=>So(e,t),watchContractEvent:t=>$a(e,t),watchEvent:t=>Cf(e,t),watchPendingTransactions:t=>Of(e,t)}}function s0(e){const{key:t="public",name:n="Public Client"}=e;return Nr({...e,key:t,name:n,type:"publicClient"}).extend(jf)}async function Uf(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function Lf(e){return e.request({method:`${e.mode}_dumpState`})}async function Ff(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function zf(e){return await e.request({method:"txpool_content"})}async function Df(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:Y(t),queued:Y(n)}}async function Hf(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Gf(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[O(t)]})}async function Vf(e){return await e.request({method:"txpool_inspect"})}async function Zf(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Wf(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:O(t)}]}):await e.request({method:`${e.mode}_mine`,params:[O(t),O(n||0)]})}async function Kf(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Yf(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function Jf(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Xf(e,t){var y,g,w;const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:d,...l}=t,h=(w=(g=(y=e.chain)==null?void 0:y.formatters)==null?void 0:g.transactionRequest)==null?void 0:w.format,p=(h||Nt)({...gn(l,{format:h}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:d});return await e.request({method:"eth_sendUnsignedTransaction",params:[p]})}async function Qf(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function el(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,O(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,O(n)]})}async function tl(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[O(t)]})}async function nl(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function rl(e,{address:t,bytecode:n}){await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function sl(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function al(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:"evm_setIntervalMining",params:[n]})}async function ol(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function il(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[O(t)]})}async function cl(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[O(t)]})}async function ul(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[O(t)]})}async function dl(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,O(n)]})}async function fl(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function ll(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?O(n):n,r]})}async function pl(e){return await e.request({method:"evm_snapshot"})}async function ml(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function hl({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>Uf(n,r),dumpState:()=>Lf(n),getAutomine:()=>Ff(n),getTxpoolContent:()=>zf(n),getTxpoolStatus:()=>Df(n),impersonateAccount:r=>Hf(n,r),increaseTime:r=>Gf(n,r),inspectTxpool:()=>Vf(n),loadState:r=>Zf(n,r),mine:r=>Wf(n,r),removeBlockTimestampInterval:()=>Kf(n),reset:r=>Yf(n,r),revert:r=>Jf(n,r),sendUnsignedTransaction:r=>Xf(n,r),setAutomine:r=>Qf(n,r),setBalance:r=>el(n,r),setBlockGasLimit:r=>tl(n,r),setBlockTimestampInterval:r=>nl(n,r),setCode:r=>rl(n,r),setCoinbase:r=>sl(n,r),setIntervalMining:r=>al(n,r),setLoggingEnabled:r=>ol(n,r),setMinGasPrice:r=>il(n,r),setNextBlockBaseFeePerGas:r=>cl(n,r),setNextBlockTimestamp:r=>ul(n,r),setNonce:r=>dl(n,r),setRpcUrl:r=>fl(n,r),setStorageAt:r=>ll(n,r),snapshot:()=>pl(n),stopImpersonatingAccount:r=>ml(n,r)}}}function a0(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Nr({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...hl({mode:r})(a)}))}function yl(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Xa({abi:n,args:r,bytecode:s});return _r(e,{...a,data:o})}async function bl(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>mr(r))}async function gl(e){return await e.request({method:"wallet_getPermissions"})}async function wl(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>He(n))}async function vl(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function xl(e,{account:t=e.account,message:n}){if(!t)throw new En({docsPath:"/docs/actions/wallet/signMessage"});const r=ce(t);if(r.type==="local")return r.signMessage({message:n});const s=(()=>typeof n=="string"?pr(n):n.raw instanceof Uint8Array?ye(n.raw):n.raw)();return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function El(e,t){var u,f,d,l;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new En({docsPath:"/docs/actions/wallet/signTransaction"});const a=ce(n);Ut({account:a,...t});const o=await $(e,Lt,"getChainId")({});r!==null&&Ca({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=i==null?void 0:i.transactionRequest)==null?void 0:f.format)||Nt;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(l=(d=e.chain)==null?void 0:d.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:O(o),from:a.address}]},{retryCount:0})}async function Pl(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new En({docsPath:"/docs/actions/wallet/signTypedData"});const o=ce(n),i={EIP712Domain:Ur({domain:r}),...t.types};if(Ja({domain:r,message:s,primaryType:a,types:i}),o.type==="local")return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=z({domain:r??{},message:s,primaryType:a,types:i},(u,f)=>R(f)?f.toLowerCase():f);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Al(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:O(t)}]},{retryCount:0})}async function Il(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Bl(e){return{addChain:t=>Qc(e,t),deployContract:t=>yl(e,t),getAddresses:()=>bl(e),getChainId:()=>Lt(e),getPermissions:()=>gl(e),prepareTransactionRequest:t=>wn(e,t),requestAddresses:()=>wl(e),requestPermissions:t=>vl(e,t),sendRawTransaction:t=>Rr(e,t),sendTransaction:t=>_r(e,t),signMessage:t=>xl(e,t),signTransaction:t=>El(e,t),signTypedData:t=>Pl(e,t),switchChain:t=>Al(e,t),watchAsset:t=>Il(e,t),writeContract:t=>Oa(e,t)}}function o0(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Nr({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Bl)}function i0(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=t;return({chain:o,retryCount:i,timeout:c})=>{var l;const u=t.retryCount??i,f=c??t.timeout??1e4,d=e||((l=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:l[0]);if(!d)throw new Ra;return Pn({key:n,name:r,async request({method:h,params:m}){const p={method:h,params:m},b=await Xt(d,{reconnect:s}),{error:y,result:g}=await b.requestAsync({body:p,timeout:f});if(y)throw new Pr({body:p,error:y,url:d});return g},retryCount:u,retryDelay:a,timeout:f,type:"webSocket"},{getSocket(){return zu(d)},getRpcClient(){return Xt(d)},async subscribe({params:h,onData:m,onError:p}){const b=await Xt(d),{result:y}=await new Promise((g,w)=>b.request({body:{method:"eth_subscribe",params:h},onResponse(v){if(v.error){w(v.error),p==null||p(v.error);return}if(typeof v.id=="number"){g(v);return}v.method==="eth_subscription"&&m(v.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(g=>b.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:g}))}}}})}}const c0="0x0000000000000000000000000000000000000000",u0="0x0000000000000000000000000000000000000000000000000000000000000000",Vn="/docs/contract/decodeDeployData";function d0(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new aa({docsPath:Vn});if(!("inputs"in s))throw new tn({docsPath:Vn});if(!s.inputs||s.inputs.length===0)throw new tn({docsPath:Vn});return{args:at(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function f0({r:e,yParityAndS:t}){const n=Rt(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:K(s),yParity:r}}function l0(e){const{r:t,s:n}=ve.Signature.fromCompact(e.slice(2,130));return{r:O(t,{size:32}),yParityAndS:O(n,{size:32})}}function p0(e){const{r:t,s:n}=ve.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:O(t,{size:32}),s:O(n,{size:32}),v:s,yParity:a}:{r:O(t,{size:32}),s:O(n,{size:32}),yParity:a}}async function m0(e){const{serializedTransaction:t,signature:n}=e,r=cd(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=ti({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await zr({hash:G(a),signature:s})}function h0(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const i=Rt(n);i[0]|=128,o=K(i)}return{r:t,yParityAndS:o}}function y0({r:e,yParityAndS:t}){return`0x${new ve.Signature(j(e),j(t)).toCompactHex()}`}function b0(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(ni({commitment:a,to:r,version:n}));return s}function g0(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>Rt(i)):e.blobs,r=n.reduce((i,c)=>i+c.length,0),s=Qt(new Uint8Array(r));let a=!0;for(const i of n){const c=Qt(i);for(;a&&c.position<i.length;){c.incrementPosition(1);let u=31;i.length-c.position<31&&(u=i.length-c.position);for(const f in Array.from({length:u})){const d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){a=!1;break}s.pushByte(d)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?K(o):o}function Sl({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function w0(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return Sl(e)}export{aa as AbiConstructorNotFoundError,tn as AbiConstructorParamsNotFoundError,Nl as AbiDecodingDataSizeInvalidError,oa as AbiDecodingDataSizeTooSmallError,hn as AbiDecodingZeroDataError,zi as AbiEncodingArrayLengthMismatchError,Di as AbiEncodingBytesSizeMismatchError,ia as AbiEncodingLengthMismatchError,Hi as AbiErrorInputsNotFoundError,bs as AbiErrorNotFoundError,ca as AbiErrorSignatureNotFoundError,gs as AbiEventNotFoundError,Gi as AbiEventSignatureEmptyTopicsError,ua as AbiEventSignatureNotFoundError,Qe as AbiFunctionNotFoundError,da as AbiFunctionOutputsNotFoundError,Vi as AbiFunctionSignatureNotFoundError,Ec as AccountStateConflictError,S as BaseError,_c as BaseFeeScalarError,Ea as BlockNotFoundError,fa as BytesSizeMismatchError,va as CallExecutionError,St as ChainDisconnectedError,Kn as ChainDoesNotSupportContract,Fo as ChainMismatchError,Lo as ChainNotFoundError,Ci as CircularReferenceError,Vs as ClientChainNotConfiguredError,Ic as ContractFunctionExecutionError,tr as ContractFunctionRevertedError,Bc as ContractFunctionZeroDataError,mt as DecodeLogDataMismatch,yn as DecodeLogTopicsMismatch,Ir as Eip1559FeesNotSupportedError,lt as EnsAvatarInvalidNftUriError,lu as EnsAvatarUnsupportedNamespaceError,qr as EnsAvatarUriResolutionError,Cc as EstimateGasExecutionError,Ht as ExecutionRevertedError,Zn as FeeCapTooHighError,is as FeeCapTooLowError,_o as FeeConflictError,Qi as FilterTypeNotSupportedError,Le as HttpRequestError,fs as InsufficientFundsError,E0 as IntegerOutOfRangeError,Ge as InternalRpcError,ls as IntrinsicGasTooHighError,ps as IntrinsicGasTooLowError,Ki as InvalidAbiDecodingTypeError,Wi as InvalidAbiEncodingTypeError,wi as InvalidAbiItemError,Ei as InvalidAbiParameterError,Pi as InvalidAbiParametersError,Ti as InvalidAbiTypeParameterError,ge as InvalidAddressError,Yi as InvalidArrayError,To as InvalidBytesBooleanError,j0 as InvalidChainIdError,Ji as InvalidDefinitionTypeError,Si as InvalidFunctionModifierError,P0 as InvalidHexBooleanError,$o as InvalidHexValueError,Ve as InvalidInputRpcError,Xo as InvalidLegacyVError,Bi as InvalidModifierError,Ai as InvalidParameterError,wt as InvalidParamsRpcError,Oi as InvalidParenthesisError,bt as InvalidRequestRpcError,U0 as InvalidSerializableTransactionError,ln as InvalidSerializedTransactionError,Zo as InvalidSerializedTransactionTypeError,pt as InvalidSignatureError,L0 as InvalidStorageKeySizeError,$i as InvalidStructSignatureError,Pt as JsonRpcVersionUnsupportedError,tt as LimitExceededRpcError,Nc as MaxFeePerGasTooLowError,gt as MethodNotFoundRpcError,Et as MethodNotSupportedRpcError,ds as NonceMaxValueError,cs as NonceTooHighError,us as NonceTooLowError,yt as ParseRpcError,Bt as ProviderDisconnectedError,ot as ProviderRpcError,Er as RawContractError,vt as ResourceNotFoundRpcError,xt as ResourceUnavailableRpcError,Q as RpcError,Pr as RpcRequestError,A0 as SizeExceedsPaddingSizeError,I0 as SizeOverflowError,B0 as SliceOffsetOutOfBoundsError,Ii as SolidityProtectedKeywordError,Pc as StateAssignmentConflictError,Tt as SwitchChainError,nr as TimeoutError,Wn as TipAboveFeeCapError,zo as TransactionExecutionError,Zs as TransactionNotFoundError,Ws as TransactionReceiptNotFoundError,et as TransactionRejectedRpcError,ms as TransactionTypeNotSupportedError,At as UnauthorizedProviderError,fn as UnknownNodeError,kc as UnknownRpcError,ki as UnknownSignatureError,vi as UnknownTypeError,Xi as UnsupportedPackedAbiType,It as UnsupportedProviderMethodError,Ra as UrlRequiredError,Fe as UserRejectedRequestError,hs as WaitForTransactionReceiptTimeoutError,Sc as WebSocketRequestError,Ca as assertCurrentChain,Ut as assertRequest,Ko as assertTransactionEIP1559,Yo as assertTransactionEIP2930,Jo as assertTransactionLegacy,No as blobsToCommitments,qo as blobsToProofs,S0 as boolToBytes,zs as boolToHex,ha as bytesToBigInt,ya as bytesToBool,K as bytesToHex,he as bytesToNumber,F0 as bytesToRlp,ba as bytesToString,za as ccipFetch,za as ccipRequest,mr as checksumAddress,ni as commitmentToVersionedHash,Mo as commitmentsToVersionedHashes,y0 as compactSignatureToHex,f0 as compactSignatureToSignature,le as concat,z0 as concatBytes,_t as concatHex,Nr as createClient,s0 as createPublicClient,a0 as createTestClient,Pn as createTransport,o0 as createWalletClient,Dl as custom,at as decodeAbiParameters,d0 as decodeDeployData,ga as decodeErrorResult,Tr as decodeEventLog,Wl as decodeFunctionData,it as decodeFunctionResult,D0 as defineBlock,H0 as defineChain,Sl as defineKzg,G0 as defineTransaction,V0 as defineTransactionReceipt,Z0 as defineTransactionRequest,Zl as domainSeparator,Re as encodeAbiParameters,Xa as encodeDeployData,Kl as encodeErrorResult,jt as encodeEventTopics,_e as encodeFunctionData,Yl as encodeFunctionResult,Jl as encodePacked,ql as erc20Abi,jl as erc20Abi_bytes32,Ll as erc4626Abi,Ul as erc721Abi,T0 as etherUnits,Vl as extractChain,Hl as fallback,Hs as formatBlock,Ds as formatEther,Ue as formatGwei,De as formatLog,Qo as formatTransaction,ei as formatTransactionReceipt,Nt as formatTransactionRequest,k0 as formatUnits,g0 as fromBlobs,Ml as fromBytes,$0 as fromHex,eo as fromRlp,Ze as getAbiItem,He as getAddress,ct as getChainContractAddress,Fl as getContract,Xl as getContractAddress,kt as getContractError,Vu as getCreate2Address,Gu as getCreateAddress,br as getEventSelector,rc as getEventSignature,qt as getFunctionSelector,rc as getFunctionSignature,id as getSerializedTransactionType,jo as getTransactionType,Ur as getTypesForEIP712Domain,Oo as gweiUnits,Va as hashDomain,Dr as hashMessage,Ga as hashTypedData,j as hexToBigInt,C0 as hexToBool,Rt as hexToBytes,l0 as hexToCompactSignature,Y as hexToNumber,W0 as hexToRlp,p0 as hexToSignature,O0 as hexToString,Gl as http,ie as isAddress,In as isAddressEqual,$s as isBytes,Wu as isHash,R as isHex,G as keccak256,uu as labelhash,K0 as maxInt104,Y0 as maxInt112,J0 as maxInt120,X0 as maxInt128,Q0 as maxInt136,ep as maxInt144,tp as maxInt152,np as maxInt16,rp as maxInt160,sp as maxInt168,ap as maxInt176,op as maxInt184,ip as maxInt192,cp as maxInt200,up as maxInt208,dp as maxInt216,fp as maxInt224,lp as maxInt232,pp as maxInt24,mp as maxInt240,hp as maxInt248,yp as maxInt256,bp as maxInt32,gp as maxInt40,wp as maxInt48,vp as maxInt56,xp as maxInt64,Ep as maxInt72,Pp as maxInt8,Ap as maxInt80,Ip as maxInt88,Bp as maxInt96,Sp as maxUint104,Tp as maxUint112,kp as maxUint120,$p as maxUint128,Cp as maxUint136,Op as maxUint144,Rp as maxUint152,_p as maxUint16,Np as maxUint160,Mp as maxUint168,qp as maxUint176,jp as maxUint184,Up as maxUint192,Lp as maxUint200,Fp as maxUint208,zp as maxUint216,Dp as maxUint224,Hp as maxUint232,Gp as maxUint24,Vp as maxUint240,Zp as maxUint248,Wp as maxUint256,Kp as maxUint32,Yp as maxUint40,Jp as maxUint48,Xp as maxUint56,Qp as maxUint64,em as maxUint72,tm as maxUint8,nm as maxUint80,rm as maxUint88,sm as maxUint96,am as minInt104,om as minInt112,im as minInt120,cm as minInt128,um as minInt136,dm as minInt144,fm as minInt152,lm as minInt16,pm as minInt160,mm as minInt168,hm as minInt176,ym as minInt184,bm as minInt192,gm as minInt200,wm as minInt208,vm as minInt216,xm as minInt224,Em as minInt232,Pm as minInt24,Am as minInt240,Im as minInt248,Bm as minInt256,Sm as minInt32,Tm as minInt40,km as minInt48,$m as minInt56,Cm as minInt64,Om as minInt72,Rm as minInt8,_m as minInt80,Nm as minInt88,Mm as minInt96,sr as multicall3Abi,Jt as namehash,R0 as numberToBytes,O as numberToHex,ju as offchainLookup,Fa as offchainLookupAbiItem,qu as offchainLookupSignature,Yt as pad,_0 as padBytes,be as padHex,Cl as parseAbi,Ol as parseAbiItem,Rl as parseAbiParameter,_l as parseAbiParameters,l0 as parseCompactSignature,N0 as parseEther,kr as parseEventLogs,n0 as parseGwei,p0 as parseSignature,cd as parseTransaction,Co as parseUnits,lc as prepareEncodeFunctionData,sd as presignMessagePrefix,jf as publicActions,zr as recoverAddress,ad as recoverMessageAddress,rd as recoverPublicKey,m0 as recoverTransactionAddress,od as recoverTypedDataAddress,Ql as ripemd160,zl as rpcSchema,qm as rpcTransactionType,jm as serializeAccessList,y0 as serializeCompactSignature,Bf as serializeSignature,ti as serializeTransaction,w0 as setupKzg,Um as sha256,b0 as sidecarsToVersionedHashes,h0 as signatureToCompactSignature,Bf as signatureToHex,X as size,ze as slice,Ro as sliceBytes,Vo as sliceHex,je as stringToBytes,pr as stringToHex,z as stringify,hl as testActions,Gs as toBlobSidecars,Lm as toBlobs,ae as toBytes,la as toEventHash,br as toEventSelector,rc as toEventSignature,la as toFunctionHash,qt as toFunctionSelector,rc as toFunctionSignature,ye as toHex,Do as toRlp,Fm as transactionType,Ot as trim,Ja as validateTypedData,e0 as verifyMessage,t0 as verifyTypedData,Bl as walletActions,i0 as webSocket,M0 as weiUnits,or as withRetry,_a as withTimeout,c0 as zeroAddress,u0 as zeroHash};
